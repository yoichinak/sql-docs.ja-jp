---
title: Jupyter Notebooks と Azure Data Studio を使用してビッグ データ クラスター (BDC) を管理する
titleSuffix: SQL Server Big Data Clusters
description: SQL Server 2019 ビッグ データ クラスター上での Jupyter Notebooks と Azure Data Studio を使用したビッグ データ クラスター (BDC) の管理。
author: cloudmelon
ms.author: melqin
ms.reviewer: mikeray
ms.metadata: seo-lt-2019
ms.date: 09/22/2020
ms.topic: conceptual
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: e549a8005144e85a20cf613ff6695d11f7ff030f
ms.sourcegitcommit: 29a2be59c56f8a4b630af47760ef38d2bf56a3eb
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/22/2020
ms.locfileid: "92378401"
---
# <a name="manage-big-data-clusters-bdc-the-cluster-with-notebooks"></a>ノートブックを使用してクラスター上でビッグ データ クラスター (BDC) を管理する

このページは、SQL Server ビッグ データ クラスター用のノートブックのインデックスです。 これらの実行可能ノートブック (.ipynb) は、ビッグ データ クラスターの管理に役立つように SQL Server 2019 向けに設計されています。

各ノートブックは、独自の依存関係を確認するように設計されています。 **[Run all cells]\(すべてのセルを実行\)** を使用すると、正常に完了するか、例外が発生し、欠落している依存関係を解決するための別のノートブックにハイパーリンクされたヒントが示されます。 後続のノートブックへのヒント ハイパーリンクに従い、 **[Run all cells]\(すべてのセルを実行\)** をクリックし、成功した場合は元のノートブックに戻り、 **[Run all cells]\(すべてのセルを実行\)** をクリックします。

すべての依存関係がインストールされていても、 **[Run all cells]\(すべてのセルを実行\)** に失敗した場合は、各ノートブックを使用して結果を分析し、可能であれば、問題の解決にさらに役立つように別のノートブックにハイパーリンクされたヒントを生成します。


## <a name="installing-and-uninstalling-utilities-on-big-data-cluster-bdc"></a>ビッグ データ クラスター (BDC) でのユーティリティのインストールとアンインストール

このセクションには、SQL Server ビッグ データ クラスターを管理するために必要なコマンドライン ツールとパッケージをインストールおよびアンインストールするのに役立つ一連のノートブックが含まれています。

|名前 |説明 |
|---|---|---|---|
|SOP010 - ビッグ データ クラスターをアップグレードする|このノートブックを使用し、azdata を使ってビッグ データ クラスターをアップグレードします。 |
|SOP012 - Mac 用の unixodbc をインストールする|このノートブックは、SQL Server 用の odbc を brew install を使ってインストールしているときにエラーが発生した場合に使用します。|
|SOP036 - kubectl コマンドライン インターフェイスをインストールする|このノートブックを使用して、OS に関係なく kubectl コマンドライン インターフェイスをインストールします。|
|SOP037 - kubectl コマンドライン インターフェイスをアンインストールする|このノートブックを使用して、OS に関係なく kubectl コマンドライン インターフェイスをアンインストールします。|
|SOP038 - Azure コマンドライン インターフェイスをインストールする|このノートブックを使用して、OS に関係なく Azure CLI コマンドライン インターフェイスをインストールします。|
|SOP039 - Azure コマンドライン インターフェイスをアンインストールする|このノートブックを使用して、OS に関係なく Azure CLI コマンドライン インターフェイスをアンインストールします。|
|SOP040 - ADS Python サンドボックスで pip をアップグレードする|このノートブックを使用して、ADS Python サンドボックスで pip をアップグレードします。|
|SOP054 - azdata コマンドライン インターフェイスをインストールする|このノートブックを使用して、OS に関係なく azdata コマンドライン インターフェイスをインストールします。|
|SOP055 - azdata コマンドライン インターフェイスをアンインストールする|このノートブックを使用して、OS に関係なく azdata コマンドライン インターフェイスをアンインストールします。|
|SOP059 - Kubernetes Python モジュールのインストール|このノートブックを使用して、Python で Kubernetes モジュールをインストールします。|
|SOP060 - kubernetes モジュールのアンインストール|このノートブックを使用して、Python で Kubernetes モジュールをアンインストールします。|
|SOP061 - ビッグ データ クラスターの削除|このノートブックを使用して、BDC クラスターを削除します。|
|SOP062 - ipython-sql と pyodbc モジュールのインストール|このノートブックを使用して、ipython-sql および pyodbc モジュールをインストールします。|
|SOP063 - azdata CLI をインストールする (パッケージ マネージャーを使用)|このノートブックを使用して、azdata CLI をインストールします (パッケージ マネージャーを使用)。|
|SOP064 - azdata CLI をアンインストールする (パッケージ マネージャーを使用)|このノートブックを使用して、azdata CLI をアンインストールします (パッケージ マネージャーを使用)。|
|SOP069 - SQL Server 用の ODBC をインストールする|azdata の一部のサブコマンドには SQL Server ODBC ドライバーが必要であるため、このノートブックを使用して ODBC ドライバーをインストールします。|


## <a name="managing-certificates-on-big-data-clusters-bdc"></a>ビッグ データ クラスター (BDC) 上での証明書の管理

ビッグ データ クラスター上で証明書を管理するためのノートブックを実行する一連のノートブック。

|名前 |説明 |
|---|---|---|---|
|CER001 - ルート CA 証明書を生成する|ルート CA 証明書を生成します。 各環境内のすべての非運用クラスターに対して、1 つのルート CA 証明書を使用することを検討してください。この手法を使用すると、これらのクラスターに接続しているクライアントにアップロードする必要があるルート CA 証明書の数が減るためです。 |
|CER002 - 既存のルート CA 証明書をダウンロードする|このノートブックを使用して、クラスターから生成されたルート CA 証明書をダウンロードします。|
|CER003 - 既存のルート CA 証明書をアップロードする|CER003 - 既存のルート CA 証明書をアップロードします。|
|CER004 - 既存のルート CA 証明書をダウンロードしてアップロードする|既存のルート CA 証明書をダウンロードしてアップロードします。 |
|CER010 - 生成されたルート CA をローカルにインストールする|このノートブックを使用すると、 **CER001 - ルート CA 証明書を生成する** または **CER003 - 既存のルート CA 証明書をアップロードする** のいずれかを使用してインストールされた、生成済みルート CA 証明書が (ビッグ データ クラスターから) ローカルにコピーされてから、このコンピューターのローカル証明書ストアにルート CA 証明書がインストールされます。|
|CER020 - 管理プロキシ証明書を作成する|このノートブックを使用すると、管理プロキシ エンドポイント用の証明書が作成されます。|
|CER021 - Knox 証明書を作成する|このノートブックを使用すると、Knox ゲートウェイ エンドポイント用の証明書が作成されます。|
|CER022 - アプリ プロキシ証明書を作成する|このノートブックを使用すると、アプリ デプロイ プロキシ エンドポイント用の証明書が作成されます。|
|CER023 - マスター証明書を作成する|このノートブックを使用すると、マスター エンドポイント用の証明書が作成されます。|
|CER030 - 生成された CA を使用して管理プロキシ証明書に署名する|このノートブックを使用すると、 **CER001 - ルート CA 証明書を生成する** または **CER003 - 既存のルート CA 証明書をアップロードする** のいずれかを使って作成された、生成済みルート CA 証明書で、 **CER020 - 管理プロキシ証明書を作成する** を使って作成された証明書に署名されます|
|CER031 - 生成された CA を使用して Knox 証明書に署名する|このノートブックを使用すると、 **CER001 - ルート CA 証明書を生成する** または **CER003 - 既存のルート CA 証明書をアップロードする** のいずれかを使って作成された、生成済みルート CA 証明書で、 **CER021 - Knox 証明書を作成する** を使って作成された証明書に署名されます|
|CER032 - 生成された CA を使用してアプリ プロキシ証明書に署名する|このノートブックを使用すると、 **CER001 - ルート CA 証明書を生成する** または **CER003 - 既存のルート CA 証明書をアップロードする** のいずれかを使って作成された、生成済みルート CA 証明書で、 **CER022 - アプリ プロキシ証明書を作成する** を使って作成された証明書に署名されます。|
|CER033 - 生成された CA を使用してマスター証明書に署名する|このノートブックを使用すると、 **CER001 - ルート CA 証明書を生成する** または **CER003 - 既存のルート CA 証明書をアップロードする** のいずれかを使って作成された、生成済みルート CA 証明書で、 **CER023 - マスター証明書を作成する** を使って作成された証明書に署名されます。|
|CER040 - 署名済み管理プロキシ証明書をインストールする|このノートブックを使用すると、 **CER030 - 生成された CA を使用して管理プロキシ証明書に署名する** を使用して署名された証明書が、ビッグ データ クラスターにインストールされます。|
|CER041 - 署名済み Knox 証明書をインストールする|このノートブックを使用すると、 **CER031 - 生成された CA を使用して Knox 証明書に署名する** を使用して署名された証明書が、ビッグ データ クラスターにインストールされます。|
|CER042 - 署名済みアプリ プロキシ証明書をインストールする|このノートブックを使用すると、 **CER032 - 生成された CA を使用してアプリ プロキシ証明書に署名する** を使用して署名された証明書が、ビッグ データ クラスターにインストールされます。|
|CER043 - 署名済みコントローラー証明書をインストールする|このノートブックを使用すると、 **CER034 - クラスター ルート CA を使用してコントローラー証明書に署名する** を使用して署名された証明書がビッグ データ クラスターにインストールされます。このノートブックの最後に、コントローラー ポッドと PolyBase を使用するすべてのポッド (マスター プールとコンピューティング プール ポッド) が再起動されて新しい証明書が読み込まれることに注意してください。|
|CER050 - BDC が正常になるまで待機する|このノートブックを使用すると、コントローラー ポッドと PolyBase を使用するポッドが再起動されて新しい証明書が読み込まれた後、ビッグ データ クラスターが正常な状態に戻るまで待機することになります。|
|CER100 - 自己署名証明書を使用してクラスターを構成する|このノートブックを使用すると、ビッグ データ クラスターに新しいルート CA が生成され、エンドポイントごとに新しい証明書が作成されます (これらのエンドポイントは、管理、ゲートウェイ、アプリ プロキシ、およびコントローラーです)。 新しい生成されたルート CA を使用して、(既存のクラスター ルート CA を使用して署名された) コントローラー証明書を除く新しい証明書にそれぞれ署名してから、各証明書をビッグ データ クラスターにインストールします。 このコンピューターの信頼されたルート証明機関の証明書ストアに新しい生成されたルート CA をダウンロードします。 生成された自己署名証明書はすべて、test_cert_store_root の場所にあるコントローラー ポッドに格納されます。|
|CER101 - 既存のルート CA を使用して自己署名証明書でクラスターを構成する|このノートブックの場合、ビッグ データ クラスターで ( **CER003** を使用してアップロードされた) 既存の生成されたルート CA を使用し、各エンドポイント (管理、ゲートウェイ、アプリ プロキシ、およびコントローラー) 用の新しい証明書を作成します。その後、新しい生成されたルート CA を使用して、(既存のクラスター ルート CA を使用して署名された) コントローラー証明書を除く新しい証明書にそれぞれ署名し、ビッグ データ クラスターに各証明書をインストールします。 生成された自己署名証明書はすべて、(test_cert_store_root の場所にある) コントローラー ポッドに格納されます。 このノートブックが完了すると、このコンピューター (および新しいルート CA をインストールするすべてのコンピューター) からビッグ データ クラスターへのすべての https:// アクセスがセキュリティで保護されているものとして示されます。 Notebook ランナーの章では、App-Deploy を実行するために作成された CronJob (OPR003) で確実にクラスター ルート CA をインストールし、JWT トークンと swagger.json を安全に取得できるようにします。|

## <a name="backup-and-restore-from-big-data-cluster-bdc"></a>ビッグ データ クラスター (BDC) からのバックアップと復元

このセクションには、SQL Server ビッグ データ クラスターのバックアップおよび復元操作に役立つ一連のノートブックが含まれています。

| 名前 | 説明 |
|--|--|
| SOP008 - distcp を使用して Azure Data Lake Store Gen2 に HDFS ファイルをバックアップする | この標準操作手順 (SOP) を使用すると、ソース SQL Server 2019 BDC クラスターの HDFS ファイルシステムから、ユーザーが指定した Azure Data Lake Store Gen2 アカウントにデータがバックアップされます。 必ず、"階層型名前空間" を有効にして Azure Data Lake Store Gen2 アカウントを構成するようにしてください。 |

## <a name="next-steps"></a>次のステップ

[!INCLUDE[big-data-clusters-2019](../includes/ssbigdataclusters-ss-nover.md)]の詳細については、「[[!INCLUDE[big-data-clusters-2019](../includes/ssbigdataclusters-ver15.md)]とは](big-data-cluster-overview.md)」を参照してください。
