---
title: 警告しきい値の設定 | Microsoft Docs
description: '[警告しきい値の設定] ダイアログ ボックスを使用して、SQL Server で選択したミラー化されたデータベースの警告しきい値を有効にして構成する方法について説明します。'
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql
ms.prod_service: high-availability
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql13.swb.dbmmonitor.setwarningthreshold.f1
ms.assetid: 17f93147-e7d9-4092-b4c2-c11b38051171
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 1d94a2c804f67657581f5ead059e6951f410e05f
ms.sourcegitcommit: 192f6a99e19e66f0f817fdb1977f564b2aaa133b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/25/2020
ms.locfileid: "96126145"
---
# <a name="set-warning-thresholds"></a>[警告しきい値の設定]
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  このダイアログ ボックスでは、 **[データベース ミラーリング モニター]** ダイアログ ボックスのナビゲーション ツリーで選択されているデータベースの警告しきい値を有効にしたり構成したりできます。  
  
 このダイアログ ボックスは、両方のサーバー インスタンスに接続を試みます。 これらの接続は非同期的に確立されます。 ダイアログには、互いのパートナーの接続状態が表示されます。 パートナーが接続されていない場合は、 **[接続]** をクリックして接続できます。  
  
 **SQL Server Management Studio を使用してデータベース ミラーリングを監視するには**  
  
-   [データベース ミラーリング モニターの起動 &#40;SQL Server Management Studio&#41;](../../database-engine/database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="options"></a>Options  
 *サーバー インスタンスと接続状態*  
 パートナー サーバー インスタンスの名前が *SYSTEM* **\\** _INSTANCE_NAME_ という形式で表示されます。 既定のサーバー インスタンスの場合、システム名だけが表示されます。  
  
 このフィールドには、該当のサーバー インスタンスに対して現在モニターが接続されているかどうかも示されます。 次の接続ステータスがあります。  
  
-   *server_instance_name* **に接続していません**  
  
-   *server_instance_name* **に接続しようとしています**  
  
-   *server_instance_name* **に接続**  
  
    > [!NOTE]  
    >  **sysadmin** 固定サーバー ロールのメンバーでない場合、このステータスは "*server_instance_name* **に接続** **(制限された権限)** " になります。  
  
 パートナー サーバーの各インスタンスについて、その名前が *サーバー インスタンスと接続状態* を示すフィールドに表示されます。 一番上のフィールドには、モニターを開始した時点におけるプリンシパル サーバーが表示されます。  
  
 **接続**/**キャンセル**  
 **[接続]** / **[キャンセル]** ボタンは、 *サーバー インスタンスと接続状態* を示す各フィールドに関連付けられています。 ボタンの状態は、接続ステータスによって異なります。  
  
-   サーバー インスタンスに接続されていない場合、ボタンのテキストには **"接続"** と表示されます。 このボタンをクリックすると、サーバー インスタンスに接続できます。  
  
-   接続を試行中の場合、ボタン テキストには **"キャンセル"** と表示されます。 このボタンをクリックすると、試行中の接続が取り消されます。  
  
-   サーバーが接続されている場合、ボタン テキストには **"接続済み"** と表示され、ボタンが淡色表示されます。  
  
 **しきい値**  
 **[しきい値]** グリッドには、2 つのサーバー インスタンスに対する警告設定が表示されます。  
  
> [!NOTE]  
>  サーバー インスタンスが接続されていない場合、対応する列には空のセルが表示され、背景が淡色表示されます。 接続が確立されている場合、グリッドには、対応するインスタンスからの情報が自動的に表示されます。  
  
 このグリッドには次の列が含まれています。  
  
 **Warnings**  
 サポートされている警告が一覧表示されます。サポートされている警告は次のとおりです。  
  
|警告|説明|  
|-------------|-----------------|  
|**[未送信のログがしきい値を超えた場合に警告する]**|プリンシパルの送信キューにある未送信ログのキロバイト (KB) 数を示すしきい値です。|  
|**[復元されていないログがしきい値を超えた場合に警告する]**|ミラー サーバー インスタンスの再実行キューのキロバイト数を示すしきい値です。|  
|**[最も古い未送信のトランザクションの経過期間がしきい値を超えた場合に警告する]**|送信キューからミラー サーバー インスタンスにトランザクションが送信されない状態の経過時間 (分単位) を示すしきい値です。 この値は、データ損失の可能性を時間の観点から測定するのに役立ちます。|  
|**[ミラー コミットのオーバーヘッドがしきい値を超えた場合に警告する]**|トランザクションあたりの遅延をミリ秒単位で示すしきい値です (高い安全性モードでのみ有効)。 この遅延時間は、ミラー サーバー インスタンスによってトランザクションのログ レコードが再実行キューに書き込まれるのをプリンシパル サーバー インスタンスが待機している間、発生したオーバーヘッドの量になります。|  
  
 **'** *\<server instance>* **' で有効**  
 チェック ボックスがオフの場合、現在、そのサーバー インスタンスでは警告が無効になっています。 警告を有効にするには、対応するチェック ボックスをオンにします。  
  
 **'** *\<server instance>* **' でのしきい値**  
 警告を有効にする場合は、この列の左側にしきい値を設定します。 状態テーブルが更新され、指定されたしきい値に達した場合、イベントが発生します。 値を設定した後でしきい値を無効にした場合、その値はフィールドに表示されたままになり、警告を再度有効化した場合に使用されます。  
  
 警告が無効になっている場合、このフィールドは無効になります。  
  
 **[OK]**  
 **[OK]** をクリックすると、このダイアログ ボックスが閉じ、 **[警告]** タブ ページの **[しきい値]** グリッドに、現在指定されている警告しきい値が表示されます。  
  
## <a name="remarks"></a>解説  
 実際にしきい値が適用されるのは一度に 1 パートナーだけです。ただし、データベースのフェールオーバーが発生した場合にも警告が保持されるように、両方のパートナーに対してイベントのしきい値を設定することをお勧めします。 適切なしきい値は、各パートナーのシステムのパフォーマンスによって異なります。  
  
 イベントがパフォーマンスのイベント ログに書き込まれるのは、状態テーブルの更新時に、該当する値がしきい値以上になった場合だけです。 状態が更新されるまでの間に、一時的にピーク値がしきい値に達した場合、そのピーク値は反映されません。  
  
## <a name="see-also"></a>参照  
 [データベース ミラーリング モニターの起動 &#40;SQL Server Management Studio&#41;](../../database-engine/database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)   
 [データベース ミラーリングの監視 &#40;SQL Server&#41;](../../database-engine/database-mirroring/monitoring-database-mirroring-sql-server.md)   
 [データベース ミラーリング セキュリティ構成ウィザードの起動 &#40;SQL Server Management Studio&#41;](../../database-engine/database-mirroring/start-the-configuring-database-mirroring-security-wizard.md)  
  
  
