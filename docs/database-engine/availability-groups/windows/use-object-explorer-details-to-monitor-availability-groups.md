---
title: '[オブジェクト エクスプローラーの詳細] を使用した可用性グループの監視 | Microsoft Docs'
description: SQL Server Management Studio を使用して、既存の Always On 可用性グループ、可用性レプリカ、可用性データベースを監視および管理する方法について説明します。
ms.custom: ''
ms.date: 05/17/2016
ms.prod: sql
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql13.swb.availabilitygroup.OEdetails.f1
helpviewer_keywords:
- Availability Groups [SQL Server], monitoring
- Availability Groups [SQL Server], databases
- Availability Groups [SQL Server]
ms.assetid: 84affc47-40e0-43d9-855e-468967068c35
author: cawrites
ms.author: chadam
ms.openlocfilehash: cc56fad8481141cb208b8fb218c281d12c1e3027
ms.sourcegitcommit: 54cd97a33f417432aa26b948b3fc4b71a5e9162b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/13/2020
ms.locfileid: "94583742"
---
# <a name="use-object-explorer-details-to-monitor-availability-groups"></a>[オブジェクト エクスプローラーの詳細] を使用した可用性グループの監視
[!INCLUDE [SQL Server](../../../includes/applies-to-version/sqlserver.md)]
  このトピックでは、 **の** [オブジェクト エクスプローラーの詳細] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] ペインを使用して、既存の AlwaysOn 可用性グループ、可用性レプリカ、および可用性データベースを監視および管理する方法について説明します。  
  
> [!NOTE]  
>  [オブジェクト エクスプローラーの詳細] ペインの使用方法の詳細については、「 [[オブジェクト エクスプローラーの詳細] ペイン](../../../ssms/object/object-explorer-details-pane.md)」を参照してください。  
  
  
##  <a name="prerequisites"></a><a name="Prerequisites"></a> 前提条件  
 プライマリ レプリカまたはセカンダリ レプリカをホストする [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のインスタンス (サーバー インスタンス) に接続されている必要があります。  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> SQL Server Management Studio の使用  
 **可用性グループ、可用性レプリカ、および可用性データベースを監視するには**  
  
1.  [表示] メニューの **[オブジェクト エクスプローラーの詳細]** をクリックするか、 **F7** キーを押します。  
  
2.  オブジェクト エクスプローラーで、可用性グループを監視する [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のインスタンスに接続し、サーバー名をクリックしてサーバー ツリーを展開します。  
  
3.  **[AlwaysOn 高可用性]** ノードと **[可用性グループ]** ノードを展開します。  
  
4.  **[オブジェクト エクスプローラーの詳細]** ペインに、接続したサーバー インスタンスがそのレプリカをホストしている可用性グループが表示されます。 それぞれの可用性グループについて、 **[サーバー インスタンス (プライマリ)]** 列に、プライマリ レプリカを現在ホストしているサーバー インスタンス名が表示されます。  特定の可用性グループの詳細を表示するには、オブジェクト エクスプ ローラーでそのグループを選択します。  
  
5.  **[オブジェクト エクスプローラーの詳細]** ペインに、その可用性グループの **[可用性レプリカ]** と **[可用性データベース]** ノードが表示されます。  
  
    -   オブジェクト エクスプローラーで **[可用性グループ]** ノードを展開し、 **[可用性レプリカ]** ノードを選択すると、 **[オブジェクト エクスプローラーの詳細]** ペインにグループ内の可用性レプリカの詳細が表示されます。 詳細については、このトピックの「 [可用性レプリカの詳細](#AvReplicaDetails)」を参照してください。  
  
         複数の可用性レプリカに対する操作を行うには、それらのレプリカを選択して右クリックし、ショートカット メニューを開きます。ここには、使用できるコマンドが表示されます。  
  
    -   オブジェクト エクスプローラーで **[可用性グループ]** ノードを展開し、 **[可用性データベース]** ノードを選択すると、 **[オブジェクト エクスプローラーの詳細]** ペインにグループ内の可用性データベースの詳細が表示されます。 詳細については、このトピックの「 [可用性データベースの詳細](#AvDbDetails)」を参照してください。  
  
         複数の可用性データベースに対する操作を行うには、それらのデータベースを選択して右クリックし、ショートカット メニューを開きます。ここには、使用できるコマンドが表示されます。  
  
##  <a name="availability-groups-details"></a><a name="AvGroupsDetails"></a> 可用性グループの詳細  
 **[可用性グループ]** の詳細画面には、次の列が表示されます。  
  
 **名前**  
 選択した可用性グループの **[可用性レプリカ]** 、 **[可用性データベース]** 、および **[可用性グループ]** リスナー フォルダーが表示されます。  
  
##  <a name="availability-replica-details"></a><a name="AvReplicaDetails"></a> 可用性レプリカの詳細  
 **[可用性レプリカ]** の詳細画面には、次の列が表示されます。  
  
 **サーバー インスタンス**  
 可用性レプリカをホストするサーバー インスタンス名と、サーバー インスタンスからローカル サーバー インスタンスへの現在の接続状態を示すアイコンが表示されます。  
  
 **ロール**  
 可用性レプリカの現在のロール ( **[プライマリ]** または **[セカンダリ]** ) を示します。 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] のロールについては、「[Always On 可用性グループの概要 &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)」を参照してください。  
  
 **[セカンダリ ロールの接続モード]**  
 セカンダリ ロールを実行している (つまりセカンダリ レプリカとして機能している) 特定の可用性レプリカのデータベースがクライアントから接続を受け入れることができるかどうかを示します。  
  
 次のような値が考えられます。  
  
|値|説明|  
|-----------|-----------------|  
|**接続を禁止**|この可用性レプリカがセカンダリ レプリカとして動作する場合、可用性データベースに対する直接接続は許可されません。 セカンダリ データベースは読み取りアクセスでは利用できません。|  
|**読み取りを目的とした接続のみを許可**|このレプリカがセカンダリ レプリカとして動作する場合、直接接続は、読み取り専用でのみ許可されます。 レプリカ内のすべてのデータベースは読み取りアクセスで利用できます。|  
|**すべての接続を許可**|このレプリカがセカンダリ レプリカとして動作する場合、読み取り専用でこれらのデータベースに対するすべての接続が許可されます。|  
  
 **接続状態**  
 セカンダリ レプリカが現在プライマリ レプリカに接続されているかどうかを示します。 次のような値が考えられます。  
  
|値|説明|  
|-----------|-----------------|  
|**切断**|リモート可用性レプリカの場合、ローカル可用性レプリカから切断されていることを示します。 接続解除状態のローカル レプリカの応答は、そのロールによって次のように異なります。<br /><br /> プライマリ レプリカでは、セカンダリ レプリカが切断されている場合、プライマリ レプリカ上のセカンダリ データベースは **[同期未実行]** とマークされ、プライマリ レプリカはセカンダリが再接続するのを待機します。<br /><br /> セカンダリ レプリカでは、切断されていることを検出すると、セカンダリ レプリカはプライマリ レプリカへの再接続を試みます。|  
|**接続済み**|現在ローカル レプリカに接続されているリモート可用性レプリカです。|  
|**NULL**|ローカル レプリカがセカンダリ レプリカの場合、この値は他のセカンダリ レプリカに対して NULL です。|  
  
 **[同期状態]**  
 セカンダリ レプリカが現在プライマリ レプリカと同期されているかどうかを示します。 次のような値が考えられます。  
  
|値|説明|  
|-----------|-----------------|  
|**[同期未実行]**|データベースが同期されていないか、可用性グループにまだ参加していません。|  
|**同期済み**|データベースは、現在のプライマリ レプリカ上、または最後のプライマリ レプリカ上のプライマリ データベースと同期されています。<br /><br /> 注:パフォーマンス モードでは、データベースは同期済みの状態にはなりません。|  
|**NULL**|不明な状態です。 この値は、ローカル サーバー インスタンスが WSFC フェールオーバー クラスターと通信できない (ローカル ノードが WSFC クォーラムの一部ではない) 場合に生じます。|  
  
> [!NOTE]  
>  可用性レプリカのパフォーマンス カウンターの詳細については、「 [SQL Server、Availability Replica](../../../relational-databases/performance-monitor/sql-server-availability-replica.md)」を参照してください。  
  
##  <a name="availability-database-details"></a><a name="AvDbDetails"></a> 可用性データベースの詳細  
 **[可用性データベース]** の詳細画面には、可用性グループ内の可用性データベースの次のプロパティが表示されます。  
  
 **名前**  
 可用性データベースの名前です。  
  
 **[同期状態]**  
 可用性データベースが現在プライマリ レプリカと同期されているかどうかを示します。  
  
 考えられる同期状態は次のとおりです。  
  
|値|説明|  
|-----------|-----------------|  
|[同期中]|セカンダリ データベースが、ディスクに書き込まれていないプライマリ データベースのトランザクション ログ レコードを受け取りました。<br /><br /> 注:非同期コミット モードでは、同期の状態は常に **[同期中]** です。|  
|||  
  
 **中断済み**  
 可用性データベースが現在オンラインであるかどうかを示します。 次のような値が考えられます。  
  
|値|説明|  
|-----------|-----------------|  
|**中断済み**|この状態は、データベースがローカルで中断され、手動で再開する必要があることを示します。<br /><br /> プライマリ レプリカでは、セカンダリ データベースの値の信頼性が低くなります。 セカンダリ データベースが中断されているかどうかを確実に判断するには、データベースをホストするセカンダリ レプリカでクエリを実行します。|  
|**未参加**|セカンダリ データベースが可用性グループにまだ参加していないか、グループから削除されていることを示します。|  
|**オンライン**|データベースがローカル可用性レプリカで中断されておらず、データベースが接続されていることを示します。|  
|**未接続**|セカンダリ レプリカが現在プライマリ レプリカに接続できないことを示します。|  
  
> [!NOTE]  
>  可用性データベースのパフォーマンス カウンターの詳細については、「 [SQL Server、Database Replica](../../../relational-databases/performance-monitor/sql-server-database-replica.md)」を参照してください。  
  
## <a name="see-also"></a>参照  
 [sys.dm_os_performance_counters &#40;Transact-SQL&#41;](../../../relational-databases/system-dynamic-management-views/sys-dm-os-performance-counters-transact-sql.md)   
 [AlwaysOn ダッシュボードの使用 &#40;SQL Server Management Studio&#41;](../../../database-engine/availability-groups/windows/use-the-always-on-dashboard-sql-server-management-studio.md)   
 [可用性グループのプロパティの表示 &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/view-availability-group-properties-sql-server.md)   
 [可用性レプリカのプロパティの表示 &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/view-availability-replica-properties-sql-server.md)  
  
  
