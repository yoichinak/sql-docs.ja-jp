---
title: 接続プロパティの設定
description: Microsoft JDBC Driver for SQL Server 用の接続文字列プロパティは、さまざまな方法で指定できます。
ms.custom: ''
ms.date: 08/19/2020
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: f1b62700-f046-488d-bd6b-a5cd8fc345b7
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: a322af478215a215975942fb2b055a6cff755dfe
ms.sourcegitcommit: 7eb80038c86acfef1d8e7bfd5f4e30e94aed3a75
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/15/2020
ms.locfileid: "92081701"
---
# <a name="setting-the-connection-properties"></a>接続プロパティの設定

[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

接続文字列のプロパティは、さまざまな方法で指定できます。

- DriverManager クラスを使用して接続するときは、接続 URL における "名前=値" 形式のプロパティとして指定できます。
- DriverManager クラスの Connect メソッドの *Properties* パラメーター の中で "名前=値" 形式のプロパティとして指定できます
- ドライバーのデータ ソースの適切な setter メソッドの値として指定できます。 次に例を示します。  
  
    ```java
    datasource.setServerName(value)  
    datasource.setDatabaseName(value)  
    ```  
  
## <a name="remarks"></a>解説

プロパティ名の大文字と小文字は区別されず、重複したプロパティ名は次の順序で解決されます。  
  
1. API 引数 (user、password など)
2. プロパティ コレクション。  
3. 接続文字列の最後のインスタンス。
  
プロパティ名には不明な値を使用することもできます。JDBC ドライバーではこのような値の大文字と小文字の区別について検証されません。

シノニムを使用できます。これは、重複したプロパティ名と同じ順序で解決されます。

次の表は、JDBC ドライバーで現在使用できるすべての接続文字列プロパティを示しています。

| プロパティ<br/>Type<br/>Default | 説明 |
| :------------------------------ | :---------- |
| accessToken<br/><br/>String<br/><br/>null | このプロパティを使用し、アクセス トークンを使って SQL データベースに接続します。 **accessToken** は、接続 URL を使用して設定することはできません。 |
| applicationIntent<br/><br/>String<br/><br/>ReadWrite | アプリケーションがサーバーに接続するときのワークロードのタイプを宣言します。 <br/><br/>有効値は、**ReadOnly** と **ReadWrite** です。 <br/><br/>詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| applicationName<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | アプリケーション名、または "[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)]" (名前が指定されていない場合) です。<br/><br/>個別のアプリケーションを識別するために、さまざまな [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] プロファイリング ツールおよびロギング ツールで使用されます。 |
| 認証<br/><br/>String<br/><br/>NotSpecified | Microsoft JDBC Driver 6.0 for SQL Server 以降では、この省略可能なプロパティは、接続に使用する SQL 認証方法を示します。 指定できる値は、**ActiveDirectoryIntegrated**、**ActiveDirectoryPassword**、**ActiveDirectoryMSI**、**SqlPassword**、および **NotSpecified** (既定) です。<br/><br/> **ActiveDirectoryIntegrated** を使用して、統合 Windows 認証を使用している SQL Database に接続します。<br/><br/> **ActiveDirectoryPassword** を使用して、Azure AD のプリンシパル名とパスワードを使用している SQL Database に接続します。<br/><br/> **ActiveDirectoryMSI** を使用して、Azure リソース内から SQL Database に接続します。 たとえば、マネージド ID (MSI) 認証を使用する Azure Virtual Machine、App Service、Function App などです。 <br><br>**ActiveDirectoryMSI** 認証モードを使用するときに、ドライバーでサポートされるマネージド ID は、次の 2 種類です。 <br> 1._システム割り当てマネージド ID_:**accessToken** を取得するために既定で使用されます。 <br> 2._ユーザー割り当てマネージド ID_:マネージド ID (MSI) のクライアント ID が **msiClientId** 接続プロパティで指定されている場合に、**accessToken** を取得するために使用されます。<br/><br/> **userName**/**user** プロパティと **password** プロパティを使って SQL Server に接続するには、**SqlPassword** を使用します。<br/><br/> これらの認証方法がいずれも必要ない場合は、**NotSpecified** を使用します。<br/><br/> **重要:** 認証が ActiveDirectoryIntegrated に設定されている場合、**mssql-jdbc_auth-\<version>-\<arch>.dll** (JDBC ドライバー パッケージで入手可能) と SQL Server 用の Azure Active Directory 認証ライブラリ (**ADAL.DLL**) の 2 つのライブラリをインストールする必要があります。ADAL をインストールするには、[Microsoft ODBC Driver for SQL Server](../odbc/download-odbc-driver-for-sql-server.md) または [Microsoft OLE DB Driver for SQL Server](../oledb/download-oledb-driver-for-sql-server.md) をインストールします。 JDBC ドライバーでは、ADAL.DLL のバージョン **1.0.2028.318 以降**のみがサポートされます。<br/><br/> **注:** 認証プロパティが **NotSpecified** 以外の値に設定されている場合、ドライバーでは既定で TLS (トランスポート層セキュリティ) (以前の SSL (Secure Sockets Layer)) 暗号化が使用されます。<br/><br/> Azure Active Directory 認証を構成する方法については、[Azure Active Directory 認証を使用した SQL Database への接続](/azure/azure-sql/database/authentication-aad-overview)に関するページを参照してください。 |
| authenticationScheme<br/><br/>String<br/><br/>NativeAuthentication | アプリケーションで使用する統合セキュリティの種類を示します。 指定できる値は **JavaKerberos**、**NTLM**、および **NativeAuthentication** (既定値) です。<br/><br/> **authenticationScheme=JavaKerberos** を使用する場合は、**serverName** プロパティまたは **serverSpn** プロパティで完全修飾ドメイン名 (FQDN) を指定する必要があります。 それ以外の場合は、エラーが発生します (Kerberos データベースにサーバーが見つからない)。<br/><br/> **authenticationScheme=JavaKerberos** の使用について詳しくは、「[Kerberos 統合認証による SQL Server への接続](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md)」を参照してください。 <br/><br/> **authenticationScheme=NTLM** を使用する場合は、**domain** プロパティまたは **domainName** プロパティの NTLM を使用して認証するように Windows ドメインを指定する必要があります。また、**user** または **userName** および **password** の各プロパティの Windows 資格情報も指定する必要があります。 これを行わないと、エラーが発生します (接続プロパティを指定する必要があります)。  |
| cancelQueryTimeout<br/><br/>INT<br/><br/>-1 | Microsoft JDBC Driver 6.4 for SQL Server 以降では、このプロパティを使用して、接続に設定されている **queryTimeout** を取り消すことができます。 SQL Server への TCP 接続が暗黙的に削除されると、クエリの実行がハングし、例外はスローされません。 このプロパティは、接続でも 'queryTimeout' が設定されている場合にのみ適用されます。 <br/><br/>ドライバーは **cancelQueryTimeout** + **queryTimeout** を合計した秒数を待機してから、接続を中断し、チャネルを閉じます。 <br/><br/>このプロパティの既定値は -1 で、動作は無期限の待機です。 |
| clientCertificate<br/><br/>String<br/><br/>null | クライアント証明書の認証に使用する証明書の場所を指定します。 JDBC ドライバーでは、PFX、PEM、DER、CER ファイル拡張子がサポートされます。 <br/><br/>詳細については、「[ループバック シナリオにおけるクライアント証明書の認証](../../connect/jdbc/client-certification-authentication-for-loopback-scenarios.md)」を参照してください。 |
| clientKey <br/><br/>String<br/><br/>null | clientCertificate 属性によって指定された PEM、DER、CER 証明書の秘密キーのファイルの場所を指定します。 <br/><br/>詳細については、「[ループバック シナリオにおけるクライアント証明書の認証](../../connect/jdbc/client-certification-authentication-for-loopback-scenarios.md)」を参照してください。 |
| clientKeyPassword <br/><br/>String<br/><br/>null | clientKey ファイルの秘密キーにアクセスするために指定された、省略可能なパスワード文字列。 <br/><br/>詳細については、「[ループバック シナリオにおけるクライアント証明書の認証](../../connect/jdbc/client-certification-authentication-for-loopback-scenarios.md)」を参照してください。 |
| columnEncryptionSetting<br/><br/>String<br/>["Enabled" &#124; "Disabled"]<br/><br/>無効 | Microsoft JDBC Driver 6.0 for SQL Server 以降では、"Enabled" に設定すると、Always Encrypted (AE) 機能を使用します。 AE を有効にすると、JDBC ドライバーは SQL Server の暗号化されたデータベースの列に格納されている機密データについて透過的に暗号化と暗号化の解除を行います。<br/><br/> **columnEncryptionSetting** の詳細については、「[JDBC ドライバーでの Always Encrypted の使用](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。<br/><br/> **注:** Always Encrypted は、SQL Server 2016 以降のバージョンで利用できます。 |
| databaseName,<br/>database<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | 接続するデータベース名です。 <br/><br/>指定しない場合は、既定のデータベースへの接続が確立されます。 |
| delayLoadingLobs<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | ResultSet から取得されるすべての LOB オブジェクトをストリームするかどうかを示すフラグ。 このプロパティを "false" に設定すると、LOB オブジェクト全体がストリーミングなしでメモリに読み込まれます。 |
| domainName<br/>domain<br/><br/>String<br/>null | NTLM を使用して認証する Windows ドメイン。 |
| disableStatementPooling<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | ステートメント プーリングを使用する必要があるかどうかを示すフラグ。 |
| enablePrepareOnFirst...<br/>PreparedStatementCall<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>false | _enablePrepareOnFirstPreparedStatementCall_<br/><br/> 準備されたステートメントの最初の実行で <code>sp_prepexec</code> を呼び出すことによって、準備されたステートメント ハンドルの作成を有効にするには、"true" に設定します。 <br/><br/>準備されたステートメントの最初の実行で <code>sp_executesql</code> を呼び出し、ステートメントを準備しないように変更するには、"false" に設定します。2 回目の実行が行われると、<code>sp_prepexec</code> が呼び出され、準備されたステートメント ハンドルが設定されます。 |
| enclaveAttestationUrl<br/><br/>String<br/><br/>null | Microsoft JDBC Driver 8.2 for SQL Server 以降では、この省略可能なプロパティは、セキュア エンクレーブを使用する Always Encrypted に使用する構成証明サービスのエンドポイント URL を示します。<br/><br/>詳細については、「[セキュア エンクレーブを使用する Always Encrypted](../../connect/jdbc/using-always-encrypted-with-secure-enclaves-with-the-jdbc-driver.md)」を参照してください。 |
| enclaveAttestationProtocol<br/><br/>String<br/><br/>null | Microsoft JDBC Driver 8.2 for SQL Server 以降では、この省略可能なプロパティは、セキュア エンクレーブを使用する Always Encrypted に使用する構成証明プロトコルを示します。 現時点では、このフィールドでサポートされている値は **HGS** のみです。<br/><br/>詳細については、「[セキュア エンクレーブを使用する Always Encrypted](../../connect/jdbc/using-always-encrypted-with-secure-enclaves-with-the-jdbc-driver.md)」を参照してください。 |
| encrypt<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>false | サーバーに証明書がインストールされている場合に、クライアントとサーバー間で送信されるすべてのデータに対して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] で TLS 暗号化が使用されるようにするには、"true" に設定します。 既定値は "false" です。<br/><br/> Microsoft JDBC Driver 6.0 for SQL Server 以降では、既定で TLS 暗号化を使用する新しい接続設定 "authentication" があります。 <br/><br/>詳細については、authentication プロパティを参照してください。 |
| failoverPartner<br/><br/>String<br/><br/>null | データベース ミラーリング構成で使用されるフェールオーバー サーバーの名前です。 このプロパティは、プリンシパル サーバーへの初期接続に失敗した場合に使用されます。初期接続が行われた後は、このプロパティは無視されます。 databaseName プロパティと組み合わせて使用する必要があります。<br/><br/> **注:** 接続文字列の中で failoverPartner プロパティを指定するときに、フェールオーバー パートナー インスタンスのサーバー インスタンスのポート番号を指定することはできません。 ただし、プリンシパル サーバー インスタンスの serverName、instanceName、portNumber の各プロパティ、およびフェールオーバー パートナー インスタンスの failoverPartner プロパティを同じ接続文字列の中で指定することはできます。<br/><br/> **Server** 接続プロパティの仮想ネットワーク名を指定した場合は、データベース ミラーリングを使用できません。 詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください |
| fips<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>"false" | FIPS 対応 JVM の場合、このプロパティを **true** にする必要があります。 |
| fipsProvider<br/><br/>String<br/><br/>null | JVM で構成される FIPS プロバイダー。 たとえば、BCFIPS、SunPKCS11-NSS など。 バージョン 6.4.0 で削除されました。詳細は[こちら](https://github.com/Microsoft/mssql-jdbc/pull/460)をご覧ください。 |
| gsscredential<br/><br/>org.ietf.jgss.GSSCredential<br/><br/>null | Microsoft JDBC Driver 6.2 for SQL Server 以降では、Kerberos の制約付き委任に使用されるユーザー資格情報をこのプロパティに渡すことができます。 <br/><br/>これは **integratedSecurity** で **true** として、**JavaKerberos** で **authenticationScheme** として使用します。 |
| hostNameInCertificate<br/><br/>String<br/><br/>null | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の TLS/SSL 証明書の検証に使用されるホスト名です。<br/><br/> hostNameInCertificate プロパティが指定されていないか null に設定されている場合、[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] は、接続 URL の **serverName** プロパティ値をホスト名として使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の TLS/SSL 証明書を検証します。<br/><br/> **注:** このプロパティは、**encrypt**/**authentication** プロパティおよび **trustServerCertificate** プロパティと組み合わせて使用されます。 このプロパティが証明書の検証に影響するのは、接続で TLS 暗号化が使用されていて、**trustServerCertificate** が "false" に設定されている場合のみです。 TLS 接続が成功するには、**hostNameInCertificate** に渡される値が、サーバー証明書に含まれるサブジェクトの別名 (SAN) の共通名 (CN) または DNS 名と一致している必要があります。 詳細については、「[暗号化のサポートについて](../../connect/jdbc/understanding-ssl-support.md)」を参照してください。 |
| INSTANCENAME<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | 接続する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンス名です。 指定しない場合は、既定のインスタンスへの接続が確立されます。 instanceName と port の両方を指定する場合については、port の注を参照してください。<br/><br/> **Server** 接続プロパティの仮想ネットワーク名を指定した場合は、**instanceName** 接続プロパティを使用できません。 詳細については、「[高可用性、障害回復のための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| integratedSecurity<br/><br/>boolean<br/>["true"&#124;"false"]<br/><br/>false | Windows オペレーティング システムの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] によって Windows 資格情報が使用されていることを示すには、"true" に設定します。 "true" にすると、JDBC ドライバーは、ユーザーがコンピューターまたはネットワークにサインインしたときに提供した資格情報を見つけるために、ローカル コンピューターの資格情報のキャッシュを検索します。<br/><br/> Kerberos 資格情報が [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] によって使用されていることを示すには、(**authenticationscheme=JavaKerberos** で) "true" に設定します。 Kerberos 認証の詳細については、「[Kerberos 統合認証による SQL Server への接続](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md)」をご覧ください。 <br/><br/> NTLM 資格情報が [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] によって使用されていることを示すには、(**authenticationscheme=NTLM** で) "true" に設定します。 <br/><br/> "false" の場合は、ユーザー名とパスワードを指定する必要があります。 |
| jaasConfigurationName<br/><br/>String<br/><br/>SQLJDBCDriver | Microsoft JDBC Driver 6.2 for SQL Server 以降では、SQL Server への各接続で、Kerberos 接続を確立するための独自の JAAS ログイン構成ファイルを持つことができます。 ログイン構成ファイルの名前は、このプロパティを介して渡すことができます。 <br/> 既定では、ドライバーによって、IBM JVM に対してはプロパティが `useDefaultCcache = true` に、他の JVM に対しては `useTicketCache = true` に設定されます。 |
| keyStoreAuthentication<br/><br/>String<br/><br/>null | Microsoft JDBC Driver 6.0 for SQL Server 以降では、このプロパティによって、Always Encrypted との接続にシームレスに設定するキー ストアが識別され、キー ストアに対する認証に使用される認証メカニズムが決定されます。 Microsoft JDBC Driver 6.0 for SQL Server では、このプロパティを使用した ("**keyStoreAuthentication=JavaKeyStorePassword**" を設定する必要があります)、Java キー ストアのシームレスなセットアップをサポートしています。 このプロパティを使用するには、Java キー ストアに対して **keyStoreLocation** プロパティと **keyStoreSecret** プロパティも設定する必要があることに注意してください。 <br/><br/>詳細については、「[JDBC ドライバーでの Always Encrypted の使用](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。 <br/><br/> または、Microsoft JDBC Driver 8.4 以降では、"**keyStoreAuthentication=KeyVaultManagedIdentity**" または "**keyStoreAuthentication=KeyVaultClientSecret**" を設定して、マネージド ID を使用して Azure Key Vault に対して認証することもできます。 <br/><br/> この詳細については、「[JDBC ドライバーでの Always Encrypted の使用](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。 |
| keyStoreLocation<br/><br/>String<br/><br/>null | **keyStoreAuthentication=JavaKeyStorePassword** の場合、**keyStoreLocation** プロパティによって、Always Encrypted データで使用される列マスター キーを格納する Java キーストア ファイルへのパスが識別されます。 パスにはキーストア ファイル名を含める必要があることに注意してください。<br/><br/>詳細については、「[JDBC ドライバーでの Always Encrypted の使用](using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。 |
| keyStorePrincipalId<br/><br/>String<br/><br/>null | **keyStoreAuthentication=KeyVaultManagedIdentity** の場合、**keyStorePrincipalId** プロパティによって有効な Azure Active Directory アプリケーション クライアント ID を指定します。  <br/><br/>この詳細については、「[JDBC ドライバーでの Always Encrypted の使用](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。 |
| keyStoreSecret<br/><br/>String<br/><br/>null | **keyStoreAuthentication=JavaKeyStorePassword** の場合、**keyStoreSecret** プロパティによって、キーストアとキーの両方に使用するパスワードが識別されます。 Java キー ストアを使用する場合、キーストアとキー パスワードは同じにする必要があることに注意してください。<br/><br/>詳細については、「[JDBC ドライバーでの Always Encrypted の使用](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。 |
| lastUpdateCount<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | 値が "true" の場合、サーバーに渡された SQL ステートメントから最終的な更新数のみを返します。また、SELECT、INSERT、または DELETE ステートメントのいずれか 1 つで使用して、サーバーのトリガーにより追加された更新数を無視することができます。 このプロパティを "false" に設定すると、サーバーのトリガーにより返される更新数を含む、すべての更新数が返されます。<br/><br/> **注:** このプロパティが適用されるのは、[executeUpdate](../../connect/jdbc/reference/executeupdate-method-sqlserverstatement.md) メソッドと一緒に使用された場合だけです。 その他のすべての execute メソッドは、すべての結果および更新数を返します。 このプロパティは、サーバーのトリガーにより返される更新数にのみ影響します。 トリガーの実行の一部として得られる結果セットまたはエラーには影響しません。 |
| lockTimeout<br/><br/>INT<br/><br/>-1 | データベースがロック タイムアウトを通知するまでに待機する時間 (ミリ秒) です。既定では、無期限に待機します。 指定されている場合、この値は接続上のすべてのステートメントに対する既定値になります。 特定のステートメントに対するタイムアウトは、**Statement.setQueryTimeout()** を使用して設定できることに注意してください。 この値は、待機しないことを示す 0 に設定できます。 |
| loginTimeout<br/><br/>INT<br/>[0..65535]<br/><br/>15 | ドライバーがタイムアウトを通知して接続を失敗させるまでに待機する時間 (秒) です。 0 の値は、タイムアウトが既定のシステム タイムアウトであることを示します。既定のシステム タイムアウトは、既定では 15 秒に指定されています。 0 以外の値は、ドライバーがタイムアウトを通知して接続を失敗させるまでに待機する時間 (秒) を示します。<br/><br/> **Server** 接続プロパティの仮想ネットワーク名を指定する場合は、フェールオーバー接続が成功するまで十分な時間がとれるように、3 分以上のタイムアウト値を指定する必要があります。 詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| msiClientId<br/><br/>String<br/><br/>null | **ActiveDirectoryMSI** 認証モードで接続を確立するときに、**accessToken** を取得するために使用されるマネージド ID (MSI) のクライアント ID。|
| multiSubnetFailover<br/><br/>Boolean<br/><br/>false | [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 可用性グループまたは [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] フェールオーバー クラスター インスタンスの可用性グループ リスナーに接続する際には、必ず **multiSubnetFailover=true** を指定してください。 **multiSubnetFailover=true** によって、(現在) アクティブなサーバーを迅速に検出し、接続するように [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] が構成されます。 可能な値は、true と false です。 詳細については、「[高可用性、障害回復のための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。<br/><br/> [getPropertyInfo](../../connect/jdbc/reference/getpropertyinfo-method-sqlserverdriver.md)、[getMultiSubnetFailover](../../connect/jdbc/reference/getmultisubnetfailover-method-sqlserverdatasource.md)、[setMultiSubnetFailover](../../connect/jdbc/reference/setmultisubnetfailover-method-sqlserverdatasource.md) がある **multiSubnetFailover** 接続プロパティには、プログラムからアクセスできます。<br/><br/> **注:** Microsoft JDBC Driver 6.0 for SQL Server 以降では、可用性グループ リスナーに接続するときに、**multiSubnetFailover** を "true" に設定する必要がなくなりました。 既定で有効になっている新しいプロパティ **transparentNetworkIPResolution** により、(現在) アクティブなサーバーの検出と接続が提供されます。 |
| packetSize<br/><br/>INT<br/>[-1 &#124; 0 &#124; 512..32767]<br/><br/>8000 | SQL Server との通信に使用されるネットワーク パケット サイズです (バイトで指定します)。 値が -1 の場合は、サーバーの既定のパケット サイズが使用されます。 値が 0 の場合は、最大値 (32767) が使用されます。 このプロパティが許容範囲外の値に設定されている場合は、例外が発生します。<br/><br/> **重要:** 暗号化を有効 (encrypt=true) にしている場合に packetSize プロパティを使用することはお勧めしません。 使用すると、接続エラーが発生する可能性があります。 詳細については、[SQLServerDataSource](../../connect/jdbc/reference/sqlserverdatasource-class.md) クラスの [setPacketSize](../../connect/jdbc/reference/setpacketsize-method-sqlserverdatasource.md) メソッドを参照してください。 |
| password<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | SQL ユーザーとパスワードが接続されている場合のデータベース パスワード。<br/>プリンシパル名とパスワードを使用した Kerberos 接続の場合、このプロパティは Kerberos プリンシパル パスワードに設定されます。 |
| portNumber,<br/>port<br/><br/>INT<br/>[0..65535]<br/><br/>1433 | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] が待機しているポートです。 ポート番号が接続文字列に指定されている場合は、SQLbrowser に対する要求は作成されません。 port と instanceName の両方が指定されている場合は、指定されたポートへの接続が確立されます。 ただし、**instanceName** の検証が行われ、ポートと一致しない場合はエラーがスローされます。<br/><br/> **重要:** SQLbrowser を使用する場合よりもセキュリティが向上するため、常にポート番号を指定することをお勧めします。 |
| queryTimeout<br/><br/>INT<br/><br/>-1 | クエリでタイムアウトが発生するまでに待機する秒数。 既定値は -1 です。これはタイムアウトが無期限であることを意味します。 これを 0 に設定した場合も、無期限の待機を意味します。 |
| responseBuffering<br/><br/>String<br/>["full" &#124; "adaptive"]<br/><br/>adaptive | このプロパティを "adaptive" に設定すると、必要に応じて最小限のデータがバッファリングされます。 既定のモードは "adaptive" です。<br/><br/> このプロパティが "full" に設定されている場合、ステートメントの実行時に結果セット全体がサーバーから読み取られます。<br/><br/> **注:** JDBC ドライバーをバージョン 1.2 からアップグレードすると、既定のバッファリング動作が "adaptive" になります。 アプリケーションで "responseBuffering" プロパティが設定されていない場合にバージョン 1.2 の既定の動作を維持するには、接続プロパティで、または [SQLServerStatement](../../connect/jdbc/reference/sqlserverstatement-class.md) オブジェクトの [setResponseBuffering](../../connect/jdbc/reference/setresponsebuffering-method-sqlserverstatement.md) メソッドを使用して、responseBufferring プロパティを "full" に設定する必要があります。 |
| selectMethod<br/><br/>String<br/>["direct" &#124; "cursor"]<br/><br/>直接 | このプロパティが "cursor" に設定されている場合、**TYPE_FORWARD_ONLY** および **CONCUR_READ_ONLY** のカーソルに対して接続上で作成されるクエリごとに、データベース カーソルが作成されます。 このプロパティは、通常、クライアントのメモリ内に収まらない大きな結果セットをアプリケーションが生成する場合にのみ必要です。 このプロパティが "cursor" に設定されると、結果セットの行が限定された数だけクライアントのメモリに保持されます。 <br/><br/>既定の動作では、すべての結果セットの行がクライアントのメモリに保持されます。 この動作により、アプリケーションがすべての行を処理する場合は、パフォーマンスが最も高くなります。 |
| sendStringParameters...<br/>AsUnicode<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | *sendStringParametersAsUnicode*<br/><br/>**sendStringParametersAsUnicode** プロパティが "true" に設定されている場合、文字列パラメーターは Unicode 形式でサーバーに送信されます。<br/><br/> **sendStringParametersAsUnicode** プロパティが "false" に設定されている場合、文字列パラメーターは、Unicode ではなく ASCII/MBCS などの Unicode 以外の形式でサーバーに送信されます。<br/><br/> **sendStringParametersAsUnicode** プロパティの既定値は "true" です。<br/><br/> **注:** **CHAR**、**VARCHAR**、または **LONGVARCHAR** の各 JDBC 型のパラメーター値を送信するときにのみ、**sendStringParametersAsUnicode** プロパティがチェックされます。 [SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) クラスと [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md) クラスの setNString、setNCharacterStream、setNClob メソッドのような、JDBC 4.0 の新しい National Character メソッドでは、このプロパティの設定に関係なく、常にパラメーター値が Unicode 形式でサーバーに送信されます。<br/><br/> **CHAR**、**VARCHAR**、**LONGVARCHAR** などの JDBC データ型の使用に伴うパフォーマンスを最適に保つためには、アプリケーションで、**sendStringParametersAsUnicode** プロパティを "false" に設定し、National Character メソッド以外のメソッドである、[SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) クラスおよび [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md) クラスの setString、setCharacterStream、および setClob を使用する必要があります。<br/><br/> アプリケーションで **sendStringParametersAsUnicode** プロパティが "false" に設定されていて、National Character メソッド以外のメソッドを使用してサーバー側の Unicode データ型 (**nchar**、**nvarchar**、**ntext** など) にアクセスする場合に、National Character メソッド以外のメソッドで渡される文字列パラメーターの文字がデータベース照合順序でサポートされていないときには、一部のデータが失われる可能性があります。<br/><br/> アプリケーションでは、**NCHAR**、**NVARCHAR**、**LONGNVARCHAR** の各 JDBC データ型に対して、[SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) クラスおよび [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md) クラスの National Character メソッドである setNString、setNCharacterStream、および setNClob を使用する必要がある点に注意してください。 |
| sendTemporalDataTypesAsStringForBulkCopy<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | この接続プロパティを "false" に設定すると、**DATE**、**DATETIME**、**DATIMETIME2**、**DATETIMEOFFSET**、**SMALLDATETIME**、および **TIME** データ型が文字列として送信されず、それぞれの型として送信されます。<br/><br/>この接続プロパティが "false" に設定されている場合、次の例のように、ドライバーによって各テンポラル データ型の既定の文字列リテラル形式のみが受け入れられることに注意してください。<br/><br/>DATE: YYYY-MM-DD<br/>DATETIME: YYYY-MM-DD hh:mm:ss[.nnn]<br/>DATETIME2: YYYY-MM-DD hh:mm:ss[.nnnnnnn]<br/>DATETIMEOFFSET: YYYY-MM-DD hh:mm:ss[.nnnnnnn] [{+/-}hh:mm]<br/>SMALLDATETIME:YYYY-MM-DD hh:mm:ss<br/>TIME: hh:mm:ss[.nnnnnnn]<br/> |
| sendTimeAsDatetime<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | このプロパティは [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] JDBC Driver 3.0 で追加されました。<br/><br/> "true" に設定すると、java.sql.Time 値は [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の **datetime** 値としてサーバーに送信されます。 <br/>"false" に設定すると、java.sql.Time 値は [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の **time** 値としてサーバーに送信されます。<br/><br/> このプロパティの既定値は、現在は "true" ですが、将来のリリースで変更される可能性があります。<br/><br/> java.sql.Time 値をサーバーに送信する前に、[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] でその値を構成する方法の詳細については、「[java.sql.Time の値をサーバーに送信する方法の構成](../../connect/jdbc/configuring-how-java-sql-time-values-are-sent-to-the-server.md)」を参照してください。 |
| serverName,<br/>server<br/><br/>String<br/><br/>null | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] を実行しているコンピューターです。<br/><br/> [!INCLUDE[ssHADR](../../includes/sshadr_md.md)] の可用性グループの仮想ネットワーク名を指定することもできます。 詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| serverNameAsACE<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>false | Microsoft JDBC Driver 6.0 for SQL Server 以降では、"true" に設定すると、ドライバーが Unicode のサーバー名を互換性のある ASCII エンコード (Punycode) に変換して接続する必要があることを示します。 この設定が false の場合、ドライバーは、ユーザーによって提供されたサーバー名を使用して接続します。<br/><br/> 詳細については、「[JDBC ドライバーの国際化機能](../../connect/jdbc/international-features-of-the-jdbc-driver.md)」を参照してください。 |
| serverPreparedStatement...<br/>DiscardThreshold<br/><br/>Integer<br/><br/>10 | *serverPreparedStatementDiscardThreshold*<br/><br/>SQL Server の JDBC Driver 6.2 以降では、このプロパティを使用して、サーバー上の未処理のハンドルを<code>sp_unprepare</code>クリーンアップするための呼び出しが実行される前に、1つの接続に対して未処理の準備されたステートメント破棄アクション () の数を制御できます。 <br/><br/> このプロパティを &lt;= 1 に設定すると、準備解除アクションは、準備されたステートメントの終了時に直ちに実行されます。 &gt;1 に設定すると、これらの呼び出しはバッチ処理され、sp_unprepare が頻繁に呼び出されることによるオーバーヘッドを回避します。 |
| serverSpn<br/><br/>String<br/><br/>null | Microsoft JDBC Driver 4.2 for SQL Server 以降では、このオプションのプロパティを使用して Java Kerberos 接続のサービス プリンシパル名 (SPN) を指定できます。  これは、**authenticationScheme** メソッドと組み合わせて使用されます。<br/><br/> SPN を指定するには、"MSSQLSvc/fqdn:port@REALM" の形式を使用できます。ここで、fqdn は完全修飾ドメイン名、port はポート番号、REALM は大文字で表記された SQL Server の Kerberos 領域です。<br/><br/> 注: クライアントの既定の領域 (Kerberos 構成で指定した領域) が SQL Server の Kerberos 領域と同じである場合は、@REALM は省略できます。<br/><br/> Java Kerberos での **serverSpn** の使用について詳しくは、「[Kerberos 統合認証による SQL Server への接続](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md)」をご覧ください。 |
| socketFactoryClass<br/><br/>String<br/><br/>null | 既定のソケット ファクトリの代わりに使用するカスタム ソケット ファクトリのクラス名を指定します。 |
| socketTimeout<br/><br/>INT<br/><br/>0 | ソケットの読み取りまたは受け入れで、タイムアウトが発生する前に待機するミリ秒数。 既定値は 0 です。これはタイムアウトが無期限であることを意味します。 |
| statementPooling...<br/>CacheSize<br/><br/>INT<br/><br/>0 | *statementPoolingCacheSize*<br/><br/>JDBC Driver 6.4 for SQL Server 以降では、このプロパティを使用して、ドライバーで準備されたステートメント ハンドルのキャッシュを有効にすることができます。 <br/><br/>このプロパティにより、ステートメント プールのキャッシュのサイズが定義されます。 <br/><br/>このプロパティが使用できるのは、**disableStatementPooling** 接続プロパティ ("false" に設定する必要があります) と組み合わせた場合だけです。 **disableStatementPooling** を "true" または **statementPoolingCacheSize** を 0 に設定すると、準備されたステートメント ハンドルのキャッシュが無効になります。|
| sslProtocol<br/><br/>String<br/><br/>TLS | JDBC Driver 6.4 for SQL Server 以降では、このプロパティを使用して、セキュリティで保護された接続時に考慮する TLS プロトコルを指定できます。 <br/>次のいずれかの値になります。**TLS**、**TLSv1**、**TLSv1.1**、**TLSv1.2**。 <br/><br/>詳細については、「[SSLProtocol](https://github.com/Microsoft/mssql-jdbc/wiki/SSLProtocol)」を参照してください。 |
| transparentNetwork...<br/>IPResolution<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | *transparentNetworkIPResolution*<br/><br/>Microsoft JDBC Driver 6.0 for SQL Server 以降では、このプロパティを使用すると、(現在) アクティブなサーバーを迅速に検出して接続できます。 指定できる値は "true" と "false" です。 "true" は既定値です。<br/><br/> Microsoft JDBC Driver 6.0 for SQL Server より前のバージョンでは、AlwaysOn 可用性グループに接続していることを示すために、アプリケーションで "multiSubnetFailover=true" を含めるように接続文字列を設定する必要がありました。 **multiSubnetFailover** 接続キーワードを "true" に設定しないと、アプリケーションで AlwaysOn 可用性グループに接続中にタイムアウトが発生する可能性がありました。 Microsoft JDBC Driver 6.0 for SQL Server 以降では、アプリケーションで multiSubnetFailover を true に設定する必要がなくなりました。 <br/><br/>**注:** transparentNetworkIPResolution=true の場合、最初の接続試行では、タイムアウトとして 500 ミリ秒が使用されます。 その後の試行では、multiSubnetFailover プロパティで使用されているのと同じタイムアウト ロジックが使用されます。 |
| trustManagerClass<br/><br/>String<br/><br/>null | カスタム <code>javax.net.ssl.TrustManager</code> 実装の完全修飾クラス名。 |
| trustManager...<br/>ConstructorArg<br/><br/>String<br/><br/>null | *trustManagerConstructorArg*<br/><br/>TrustManager のコンストラクターに渡す省略可能な引数。 trustManagerClass が指定され、暗号化された接続が要求された場合、既定のシステム JVM キーストアベースの TrustManager ではなく、カスタム TrustManager が使用されます。 |
| trustServerCertificate<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>false | [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] が [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の TLS/SSL 証明書を検証しないようにするには "true" に設定します。<br/><br/> "true" の場合、通信レイヤーが TLS で暗号化されていれば [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の TLS/SSL 証明書は自動的に信頼されます。<br/><br/> "false" の場合は、[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] がサーバーの TLS/SSL 証明書を検証します。 サーバー証明書の検証が失敗した場合は、ドライバーでエラーが発生して接続が終了します。 既定値は "false" です。 TLS/SSL 接続が成功するには、**serverName** に渡される値が、サーバー証明書に含まれるサブジェクトの別名の共通名 (CN) または DNS 名と厳密に一致している必要があります。 詳細については、「[暗号化のサポートについて](../../connect/jdbc/understanding-ssl-support.md)」を参照してください。<br/><br/> **注:** このプロパティは、**encrypt**/**authentication** プロパティと組み合わせて使用されます。 このプロパティがサーバーの TLS/SSL 証明書の検証に影響するのは、接続で TLS 暗号化が使用される場合のみです。 |
| trustStore<br/><br/>String<br/><br/>null | 証明書の trustStore ファイルへのパス (ファイル名を含む) です。 trustStore ファイルには、クライアントが信頼する証明書の一覧が含まれています。<br/><br/> このプロパティが指定されていないか null に設定されている場合、ドライバーは、信頼マネージャー ファクトリの検索ルールに従って、使用する証明書ストアを決定します。<br/><br/> **既定の SunX509 TrustManagerFactory では、次の順序で信頼済みマテリアルの検索が行われます。**<br/><br/> Java 仮想マシン (JVM) システム プロパティの "javax.net.ssl.trustStore" で指定されたファイル<br/><br/> "&lt;java-home&gt;/lib/security/jssecacerts" ファイル<br/><br/> "&lt;java-home&gt;/lib/security/cacerts" ファイル<br/><br/> <br/><br/> 詳細については、Sun Microsystems の Web サイトで SunX509 TrustManager Interface についてのドキュメントを参照してください。<br/><br/> **注:** このプロパティが証明書の trustStore の検索に影響するのは、接続で TLS 暗号化が使用され、**trustServerCertificate** プロパティが "false" に設定されている場合のみです。 |
| trustStorePassword<br/><br/>String<br/><br/>null | trustStore データの整合性を確認するために使用するパスワードです。<br/><br/> trustStore プロパティは設定されているが trustStorePassword プロパティは設定されていない場合、trustStore の整合性は確認されません。<br/><br/> trustStore プロパティと trustStorePassword プロパティの両方が指定されていない場合、ドライバーでは、JVM システム プロパティの "javax.net.ssl.trustStore" と "javax.net.ssl.trustStorePassword" が使用されます。 "javax.net.ssl.trustStorePassword" システム プロパティが指定されていない場合、trustStore の整合性は確認されません。<br/><br/> trustStore プロパティは設定されていないが trustStorePassword プロパティは設定されている場合、JDBC ドライバーでは、"javax.net.ssl.trustStore" で指定されたファイルが信頼ストアとして使用され、指定された trustStorePassword を使用して信頼ストアの整合性が確認されます。 これは、クライアント アプリケーションでパスワードを JVM システム プロパティに格納しないようにする場合に必要となることがあります。<br/><br/> **注:** trustStorePassword プロパティが証明書の trustStore の検索に影響するのは、接続で TLS 接続が使用され、**trustServerCertificate** プロパティが "false" に設定されている場合のみです。 |
| trustStoreType<br/><br/>String<br/><br/>JKS | FIPS モードで使用する信頼ストアの種類を指定するには、このプロパティを設定します。 <br/><br/>指定できる値は、**PKCS12** または FIPS プロバイダーによって定義された種類です。 |
| useBulkCopyFor...<br/>BatchInsert<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>false | _useBulkCopyForBatchInsert_<br/><br/> Microsoft JDBC Driver 7.0 for SQL Server 以降では、`java.sql.PreparedStatement` を使用してバッチ挿入操作を実行するときに、一括コピー API を利用するためにこの接続プロパティを有効にして、パフォーマンスを向上させることができます。 <br/><br/>この機能は、ターゲット サーバーの種類が **Azure Data Warehouse** の場合にのみ機能します。 この機能は既定では無効になっており、有効にするには、このプロパティを "true" に設定します。 <br/></br> **重要な注意:** この機能では、完全にパラメーター化された INSERT クエリのみがサポートされます。 INSERT クエリが他の SQL クエリによって結合された場合、または値にデータが含まれている場合、実行は基本的なバッチ挿入操作にフォールバックします。 <br/><br/> このプロパティの使用方法について詳しくは、「[バッチ挿入操作に一括コピー API を使用する](use-bulk-copy-api-batch-insert-operation.md)」をご覧ください|
| useFmtOnly<br /><br />boolean<br />["true" &#124; "false"]<br /><br />false | Microsoft JDBC Driver for SQL Server の v7.4 以降では、**useFmtOnly** 接続プロパティを指定することによって、サーバーからパラメーター メタデータのクエリを実行する別の方法が提供されています。 パラメーター メタデータのクエリを実行するときに、ドライバーで `SET FMTONLY` ロジックを使用する必要があることを指定するには、このプロパティを "true" に設定します。 この機能は既定ではオフになっています。`SET FMTONLY` は非推奨としてマークされているため、このプロパティを使用することは推奨されていません。 **useFmtOnly** は、[`sp_describe_undeclared_parameters`](../../relational-databases/system-stored-procedures/sp-describe-undeclared-parameters-transact-sql.md) の既知の問題と制限の回避策としてのみ使用できます。<br/><br/> 現在、この機能では、単一の `SELECT/INSERT/UPDATE/DELETE` クエリのみがサポートされています。 サポートされていないクエリまたは複数のクエリでこの機能を使用しようとすると、ドライバーではクエリの解析が試行されますが、ほとんどの場合、例外が発生します。<br/><br/> 詳細については、「[UseFmtOnly を使用した ParameterMetaData の取得](../../connect/jdbc/using-usefmtonly.md)」を参照してください。 |
| userName,<br/>user<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | SQL ユーザーとパスワードが接続されている場合のデータベース ユーザー。<br/><br/>プリンシパル名とパスワードを使用した Kerberos 接続の場合、このプロパティは Kerberos プリンシパル名に設定されます。 |
| workstationID<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>&lt;空の文字列&gt; | ワークステーション ID。 個別のワークステーションを識別するために、さまざまな [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] プロファイリング ツールおよびロギング ツールで使用されます。 <br/><br/>指定されていない場合は、&lt;空の文字列&gt; が使用されます。 |
| xopenStates<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>false | "true" に設定すると、ドライバーが XOPEN 互換の状態コードを例外で返します。 <br/><br/>既定では、SQL 99 の状態コードを返します。 |
| &nbsp; | &nbsp; |

> [!NOTE]  
> [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] は、ANSI_DEFAULTS および IMPLICIT_TRANSACTIONS 以外の接続プロパティのサーバー既定値を受け取ります。 [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] によって、ANSI_DEFAULTS は ON に、IMPLICIT_TRANSACTIONS は OFF に自動的に設定されます。

> [!Important]
> 認証に ActiveDirectoryPassword が設定されている場合、次のライブラリがクラスパスに含められている必要があります: [azure-active-directory-library-java](https://github.com/AzureAD/azure-activedirectory-library-for-java)。 [Maven リポジトリ](https://mvnrepository.com/artifact/com.microsoft.azure/adal4j) で見つけることができます。 ライブラリとその依存関係をダウンロードする最も簡単な方法は、Maven を使用することです。
> 1. まず、ご使用のシステムに Maven をインストールします。
> 2. ドライバーの [GitHub ページ](https://github.com/Microsoft/mssql-jdbc) へ移動します。
> 3. pom.xml ファイルをダウンロードします。
> 4. 次の Maven コマンドを実行して、ライブラリとその依存関係をダウンロードします。`mvn dependency:copy-dependencies`

## <a name="see-also"></a>関連項目

[JDBC ドライバーによる SQL Server への接続](../../connect/jdbc/connecting-to-sql-server-with-the-jdbc-driver.md)  
[FIPS モード](../../connect/jdbc/fips-mode.md)