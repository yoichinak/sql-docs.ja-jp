---
title: アプライアンスの電源をオンまたはオフにする
description: 分析プラットフォームシステムでアプライアンスの電源をオンまたはオフにする
author: mzaman1
ms.prod: sql
ms.technology: data-warehouse
ms.topic: conceptual
ms.date: 04/17/2018
ms.author: murshedz
ms.reviewer: martinle
ms.custom: seo-dt-2019
ms.openlocfilehash: ee70338b5a46ec60d808e489d982fd80692c5d1d
ms.sourcegitcommit: 33e774fbf48a432485c601541840905c21f613a0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/25/2020
ms.locfileid: "74400622"
---
# <a name="power-the-appliance-on-or-off-for-analytics-platform-system"></a>分析プラットフォームシステムでアプライアンスの電源をオンまたはオフにする
このトピックでは、並列データウェアハウスが実行されている分析プラットフォームシステムアプライアンスの電源オンまたはオフを切り替える方法について説明します。 このトピックは、分析プラットフォームシステムアプライアンスを移動する場合や、大規模な電源障害が発生した後にアプライアンスの電源をオンにする場合に使用します。  
  
アプライアンスの電源オンとオフは、アプライアンスサービスの開始と停止と同じではありません。 その対象の詳細については、「 [PDW サービスの状態 &#40;Analytics Platform System&#41;](pdw-services-status.md)」を参照してください。 SQL Server 2008 Parallel Data Warehouse の電源オンまたはオフの詳細については、SQL Server 2008 並列データウェアハウスのヘルプファイルを参照してください。 SQL Server 2012 AU1 または AU2 Parallel Data Warehouse の電源オンまたはオフの詳細については、これらのバージョンのヘルプファイルを参照してください。  
  
これらの手順で SQL Server PDW ノードへの接続を指定する場合、接続デバイス (KVM) またはリモートデスクトップを使用してリモート接続を使用してローカルに接続できます。 一部のアクション (電源スイッチをオンにする) と、物理または Windows コマンドを使用して、一部の操作 (シャットダウンなど) を行うことができます。  
  
SQL Server PDW ノードへの接続は、ノードに割り当てられた IP アドレスを使用するか、**フェールオーバークラスターマネージャー** (**cluadmin.msc**) または**hyper-v Manager** (**Virtmgmt**) アプリケーションを使用して**HST01**コンピューターから作成するか、ノード名を右クリックします。  
  
## <a name="power-off-the-appliance"></a><a name="PowerOff"></a>アプライアンスの電源をオフにする  
  
### <a name="before-you-begin"></a>開始する前に  
アプライアンスの電源をオフにする前に、アプライアンスのすべてのアクティビティを終了する必要があります。 すべてのアクティビティを終了するには:  
  
-   管理コンソールの [ **セッション** ] ページを使用して、現在のユーザーを識別します。 それらのユーザーに連絡し、ログオフするように依頼してください。  
  
-   必要に応じて、 **KILL** ステートメントを使用してクライアント接続を強制的に終了できます。 接続を終了するときは注意が必要です。 中断された場合、実行時間の長い更新プログラムなどの一部のトランザクションプロセスは、SQL Server がデータベースの復旧を完了する前に、アクティビティをロールバックする必要があります。 部分的に完了した更新または削除をロールバックすると、時間がかかることがあります。  
  
### <a name="to-power-off-the-appliance"></a>アプライアンスの電源をオフにするには  
  
> [!WARNING]  
> すべての手順は、記載されている順序どおりに実行する必要があります。特に記載のない限り、次の手順を実行する前に各ステップを完了する必要があります。 順番どおりにステップアウトしたり、各ステップの完了を待たずにステップを実行したりすると、後でアプライアンスの電源を入れたときにエラーが発生する可能性があります。  
  
1.  PDW コントロールノード (**_PDW_region_CTL01** ) に接続し、Analytics Platform System appliance domain administrator アカウントでログインします。  
  
2.  を実行し `C:\Program Files\Microsoft SQL Server Parallel Data Warehouse\100\dwconfig.exe` て **Configuration Manager**を開きます。  
  
3.  Configuration Manager の [ **並列データウェアハウストポロジ** ] メニューで、[サービスの **状態** ] タブをクリックし、[ **リージョンの停止** ] をクリックして、PDW サービスを停止します。   
  
4.  ** _Appliance_domain_-HST01**に接続し、アプライアンスドメイン管理者アカウントでログインします。  
  
5.  を使用し**フェールオーバークラスターマネージャー**て、 ** _appliance_domain_WFOHST01**クラスターに接続します (自動的に接続されていない場合)。その後、ナビゲーションウィンドウで [**役割**] をクリックします。 [ **ロール** ] ウィンドウで、次のようにします。  
  
    1.  すべての仮想マシンを複数選択します。 それらを右クリックし、[ **シャットダウン**] を選択します。  
  
    2.  選択したすべての Vm のシャットダウンが終了するまで待ちます。  
  
6.  **フェールオーバークラスターマネージャー**アプリケーションを閉じます。  
  
7. ** _Appliance_domain_-HST01**を除くすべてのサーバーをシャットダウンします。  
  
8. ** _Appliance_domain_HST01**サーバーをシャットダウンします。  
  
9. 配電ユニット (Pdu) をシャットダウンします。  
  
## <a name="power-on-the-appliance"></a><a name="PowerOn"></a>アプライアンスの電源をオンにする  
  
### <a name="to-power-on-the-appliance"></a>アプライアンスの電源をオンにするには  
  
> [!WARNING]  
> すべての手順は、記載されている順序どおりに実行する必要があります。特に記載のない限り、次の手順を実行する前に各ステップを完了する必要があります。 順番どおりにステップアウトしたり、各ステップの完了を待たずにステップを実行すると、スタートアップエラーが発生する可能性があります。  
  
1.  電力配分ユニット (PDU) の電源を入れ、スイッチが自動的に開始されるのを待ちます。  
  
2.  ** _Appliance_domain_HST01**サーバーの電源を入れます。  
  
3.  アプライアンスドメイン管理者として** _appliance_domain_HST01**にログインします。  
  
4.  **Hyper-v マネージャー**プログラム (**virtmgmt**) を起動し、既定で接続されていない場合は **、 _appliance_domain_-HST01**に接続します。  
  
    1.  ** _PDW_region_AD01**が実行されていないために名前で接続できない場合は、IP アドレスを使用して接続してみてください。  
  
    2.  **Virtual Machines**ウィンドウで** _PDW_region_-AD01**を見つけて、それが実行されていることを確認します。 そうでない場合は、この VM を起動して、完全に開始されるのを待ちます。  
  
5.  アプライアンス内の残りのサーバーの電源をオンにします。  
  
6.  アプライアンスドメイン管理者として **HST01** にログオンしているときに、 **hyper-v マネージャー**から次のようになります。  
  
    1.  ** _Appliance_domain_-HST02**に接続します。  
  
    2.  [ **Virtual Machines** ] ウィンドウで、[ ** _PDW_region_** ] を見つけ、それが実行されていることを確認します。  そうでない場合は、この VM を起動して、完全に開始されるのを待ちます。  
  
7.  を使用し**フェールオーバークラスターマネージャー**て、 ** _appliance_domain_WFOHST01**クラスターに接続します (自動的に接続されていない場合)。その後、**ナビゲーション**ウィンドウで [**役割**] をクリックします。 [ **ロール** ] ウィンドウで、次のようにします。  
  
    1.  すべての仮想マシンを複数選択し、右クリックして、[ **開始**] をクリックします。  
  
    2.  選択したすべての Vm が終了するのを待ってから、次の手順に進みます。  
  
    3.  フェールオーバーした Vm に必要な場合は、それらをシャットダウンして移動し、適切なプライマリホストで再起動します。  
  
8. 必要に応じて、 **HST01** から切断します。  
  
9. アプライアンスのドメイン管理者アカウントを使用して、 ** _PDW_region_CTL01**に接続します。  
  
10. を実行し `C:\Program Files\Microsoft SQL Server Parallel Data Warehouse\100\dwconfig.exe` て **Configuration Manager**を起動します。  
  
11. **Configuration Manager**の [**並列データウェアハウストポロジ**] メニューで、[サービスの**状態**] タブをクリックし、[**リージョンの開始**] をクリックして PDW サービスを開始します。  
  
### <a name="to-verify-the-appliance-health"></a>アプライアンスの正常性を確認するには  
アプライアンスが開始されたら、 **管理コンソール** を開き、エラー状態を示す可能性があるアラートの [ヘルス] ページを確認します。 詳細については、「 [管理コンソールを使用したアプライアンスの監視 &#40;Analytics Platform System&#41;](monitor-the-appliance-by-using-the-admin-console.md)」を参照してください。  
  
## <a name="see-also"></a>参照  
[アプライアンス管理タスク &#40;Analytics Platform System&#41;](appliance-management-tasks.md)  
  
