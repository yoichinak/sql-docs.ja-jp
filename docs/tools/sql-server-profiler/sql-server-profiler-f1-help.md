---
title: SQL Server Profiler ダイアログ ボックス
titleSuffix: SQL Server Profiler
description: トレース、テンプレート、ファイル、テーブル、パフォーマンス カウンター、および再生での使用のために SQL Server Profiler で使用できるコマンドと設定について説明します。
ms.prod: sql
ms.prod_service: sql-tools
ms.reviewer: ''
ms.technology: profiler
ms.topic: reference
ms.assetid: e57b9160-4b78-4353-abb2-bfdbdf523d7a
author: markingmyname
ms.author: maghan
ms.custom: seo-lt-2019
ms.date: 07/07/2017
ms.openlocfilehash: 11e66adad7e724f0ed18c53693c4c56567fb9d8e
ms.sourcegitcommit: a9f16d7819ed0e2b7ad8f4a7d4d2397437b2bbb2
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/21/2020
ms.locfileid: "88713800"
---
# <a name="sql-server-profiler-dialog-boxes"></a>SQL Server Profiler ダイアログ ボックス

 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

Microsoft [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] は、サーバーから [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] イベントをキャプチャするツールです。 キャプチャされたイベントはトレース ファイルに保存され、後で分析したり、問題の発生したステップを厳密に再現して診断する際に利用できます。 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] のダイアログ ボックスで使用できるコマンドと設定を次に示します。  
## <a name="trace-properties"></a>トレースのプロパティ
### <a name="general-tab"></a>[全般] タブ
**[トレースのプロパティ]** ダイアログ ボックスの **[全般]** タブを使用すると、トレースのプロパティを表示したり指定したりできます。  

|Item|説明
|---|---
|**[トレース名]** |トレース名を指定します。  
|**[トレース プロバイダー名]**|トレースされる [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスの名前を表示します。 このフィールドには、接続時に指定したサーバーの名前が自動的に入力されます。 トレース プロバイダーの名前を変更するには、 **[キャンセル]** をクリックしてダイアログ ボックスを閉じ、新しいトレースを開始します。  
|**[トレース プロバイダーの種類]**|トレースを提供しているサーバーの種類を表示します。 トレース定義ファイルの **[トレース プロバイダーの種類]** フィールドは自動的に入力されます。 このフィールドは変更できません。  
|**version**|トレースを提供しているサーバーのバージョンを表示します。 トレース定義ファイルの **[バージョン]** フィールドは自動的に入力されます。 このフィールドは変更できません。  
|**[使用するテンプレート]**|テンプレート ディレクトリからテンプレートを選択します。 ディレクトリには、既定のテンプレート、および現在のトレース プロバイダーの種類に対して作成されたユーザー定義テンプレートが入力されます。  
|**[ファイルに保存]**|トレース データを .trc ファイルにキャプチャします。 トレース データを保存しておくと、後でチェックしたり分析したりするのに便利です。  
|**[最大ファイル サイズの設定 (MB)]**|トレース データのファイルへの保存を選択する場合は、トレース ファイルの最大サイズを指定する必要があります。 既定の容量は 5 MB です。 最大サイズは、ファイルが保存されているファイル システム (NTFS、FAT) によってのみ制限されます。  
|**[名前を付けて保存]**|保存を選択した後で、このアイコンをクリックしてファイル名を変更できます。  
|**[ファイル ロールオーバーを有効にする]**|選択した場合、最大ファイル サイズに達したときに追加ファイルを作成して、トレース データを受け入れることができます。 新しいファイル名は元の .trc  ファイル名で構成され、それぞれ順に番号が付けられます。 たとえば、最大ファイル サイズに達したときに、 **NewTrace.trc** が閉じ、新しいファイルの **NewTrace_1.trc**が開きます。次に **NewTrace_2.trc**が開いて、以降も順に同様のファイルが追加されます。 トレースをファイルに保存する場合、特に指定しない限り、ファイル ロールオーバーはオンになっています。  
|**[サーバーがトレース データを処理する]**|トレースを実行中のサーバーがトレース データを処理するように指定します。 このオプションを使用すると、トレースによって起こるパフォーマンス オーバーヘッドを低減できます。 オンにすると、ストレス条件下でもイベントはスキップされません。 このチェック ボックスがオフの場合、処理は SQL Server Profiler によって実行され、ストレス条件下の一部のイベントがトレースされない可能性があります。  
|**[テーブルに保存]**|トレース データをデータベース テーブルにキャプチャします。 トレース データを保存しておくと、後でチェックしたり分析したりするのに便利です。 ただし、トレース データをテーブルに保存すると、保存先となるサーバーに大きなオーバーヘッドが発生する可能性があります。 可能な限り、トレースしているサーバーと同じサーバーにトレース テーブルを保存しないでください。  
|**[ターゲット テーブル]**|トレース データをデータベース テーブルに保存することを選択した後で、このアイコンをクリックしてテーブル名を変更できます。  
| **[最大行数の設定 (1000 行単位)]**|データを保存する最大行数を指定します。 既定値は 1000 行です。 
|**[トレース停止時刻を有効にする]**|トレースを終了して閉じる日時を設定します。 

### <a name="events-selection-tab"></a>[イベントの選択] タブ
**[トレースのプロパティ]** ダイアログ ボックスの **[イベントの選択]** タブを使用すると、トレースの対象となるイベントとデータ列を表示および指定できます。  

|Item|説明
|---|---
|**[イベント]** 列|イベント列のチェック ボックスをオンまたはオフにして、トレースするイベントを指定します。 **[イベント]** 列は、イベント カテゴリ別に分類されています。 テンプレートで指定されているイベント クラスが自動的に選択されます。 詳しくは、「 [SQL Server イベント クラスの参照](../../relational-databases/event-classes/sql-server-event-class-reference.md)」をご覧ください。  
|データ列|必要なイベント列とデータ列に対応するチェック ボックスをオンにして、トレースするデータ列を指定します。 トレースの対象になる各イベントに対応するイベント列は、既定ですべてオンになっています。  
|フィルター|フィルターを指定するには、データ列のヘッダーをクリックし、フィルター基準を入力します。 フィルター選択されるデータ列については、 **[フィルターの編集]** ダイアログ ボックスの列ラベルの左側にフィルターのアイコンが表示されます。 詳細については、「 [SQL Server Profiler - [フィルターの編集]](?view=sql-server-ver15)」を参照してください。  
|**[すべてのイベントを表示する]**|表示できるイベントをすべて表示します。 既定では、 **[イベントの選択]** グリッドで選択されている行だけが表示されます。 このチェック ボックスをオフにすると、 **[イベントの選択]** グリッドで選択されていないイベントがすべて非表示になります。  
|**[すべての列を表示]**|表示できるデータ列をすべて表示します。 既定では、選択されているデータ列だけが表示されます。 このチェック ボックスをオフにすると、 **[イベントの選択]** グリッドで選択されていないデータ列がすべて非表示になります。  
|**列フィルター**|**[フィルターの編集]** ダイアログ ボックスを起動します。 このダイアログ ボックスを使用して、データ列のフィルターを編集できます。  
|**[列の構成]**|トレースとグループ化の結果で、1 つ以上の列を使用して列の順序を変更します。  

## <a name="trace-template-properties"></a>トレース テンプレートのプロパティ 
### <a name="new-general-tab"></a>新規 ([全般] タブ)
**[トレース テンプレートのプロパティ]** ダイアログ ボックスの **[全般]** タブで次のオプションを使用すると、新しいトレース テンプレートを作成できます。 このダイアログ ボックスにアクセスするには、[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] の **[ファイル]** メニューで **[テンプレート]** をポイントし、 **[新規]** をクリックします。

|Item|説明
|---|---
|**[サーバーの種類の選択]**|このテンプレートを使用するサーバーの種類を選択します。  
|**[新しいテンプレート名]**|テンプレートを説明するような名前を指定します。  
|**[既存のテンプレートを基に新しいテンプレートを作成する]**|このテンプレートのベースとして一覧のテンプレートを使用します。 選択されているすべてのイベント、データ列、およびフィルターは、最初は既存のテンプレートに一致していますが、後から必要に応じて変更できます。  
|**[選択したサーバーの種類に対する既定のテンプレートとして使用する]**|このサーバーの種類に対して作成されたトレースには、既定でこのテンプレートを使用します。  

### <a name="edit-general-tab"></a>編集 ([全般] タブ)
 **[トレース テンプレートのプロパティ]** ダイアログ ボックスの **[全般]** タブで以下のオプションを使用すると、既存のトレース テンプレートを表示または編集できます。 このダイアログ ボックスにアクセスするには、[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] の **[ファイル]** メニューで **[テンプレート]** をポイントし、 **[テンプレートの編集]** をクリックします。  

|Item|説明
|---|---
|**[サーバーの種類の選択]**|このテンプレートを使用するサーバーの種類を選択します。  
|**[テンプレート名の選択]**|編集するテンプレートを選択します。  
|**[選択したサーバーの種類に対する既定のテンプレートとして使用する]**|このサーバーの種類に対して作成されたトレースには、既定でこのテンプレートを使用します。  

### <a name="events-selection-tab"></a>[イベントの選択] タブ
**[トレース テンプレートのプロパティ]** ダイアログ ボックスの **[イベントの選択]** タブを使用すると、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] トレース テンプレートに含めるイベント クラスとデータ列の表示、編集、指定ができます。  

|Item|説明
|---|---
|**[イベント]** 列|イベント列のチェック ボックスをオンまたはオフにして、トレースするイベントを指定します。 イベントは、イベント カテゴリ別に分類されます。 **[全般]** タブの **[既存のテンプレートを基に新しいテンプレートを作成する]** を選択した場合、指定したテンプレートに応じてイベントが自動的に選択されます。 イベント クラスの詳細については、「 [SQL Server イベント クラスの参照](../../relational-databases/event-classes/sql-server-event-class-reference.md)」を参照してください。  
|データ列|トレースするデータ列を指定するには、必要なイベント列とデータ列に対応するチェック ボックスをオンにします。 トレースに含まれる各イベントに対応するチェック ボックスがオンになっている場合、そのイベントのイベント列は既定ですべてオンになります。 **[全般]** タブの **[既存のテンプレートを基に新しいテンプレートを作成する]** をオンにした場合、指定したテンプレートに応じてデータ列とフィルターが自動的に選択されます。  
|フィルター|フィルターを指定するには、データ列のヘッダーをクリックし、フィルター基準を入力します。 フィルター選択されるデータ列については、 **[フィルターの編集]** ダイアログ ボックスの列ラベルの左側にフィルターのアイコンが表示されます。  
|**[すべてのイベントを表示する]**|表示できるイベントをすべて表示します。 既存のテンプレートを基にしていない新しいテンプレートを作成する場合、このオプションは既定でオンになります。 オフにすると、 **[イベントの選択]** グリッドで選択されていないイベントがすべて非表示になります。  
|**[すべての列を表示]**|表示できるデータ列をすべて表示します。 既存のテンプレートを基にしていない新しいテンプレートを作成する場合、このオプションは既定でオンになります。 オフにすると、 **[イベントの選択]** グリッドで選択されていないデータ列がすべて非表示になります。  
|**列フィルター**|**[フィルターの編集]** ダイアログ ボックスを開きます。ここでは、データ列のラベルの左側にフィルターのアイコンが表示されます。 **[フィルターの編集]** ダイアログ ボックスを使用して、データ列のフィルターを編集します。  
|**[列の構成]**|トレースとグループ化の結果で、1 つ以上の列を使用して列の順序を変更します。 

## <a name="trace-file-properties"></a>トレース ファイルのプロパティ 
### <a name="general-tab"></a>[全般] タブ
**[トレース ファイルのプロパティ]** ダイアログ ボックスの **[全般]** タブを使用すると、トレース ファイルのプロパティを表示できます。  
このウィンドウを表示するには、トレース ファイルを開きます。 次に、 **[ファイル]** メニューの **[プロパティ]** をクリックします。  

|Item|説明
|---|---
|**[ファイル名]**|表示するトレース ファイルのパスと名前。  
|**[トレース プロバイダー名]**|トレースされた [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスの名前を表示。  
|**[トレース プロバイダーの種類]**|トレースを提供したサーバーの種類を表示。  
|**version**|トレースを提供したサーバーのバージョンを表示。  
|**[ファイル サイズ (KB)]**|トレース ファイルのサイズ (KB)。  
|**Created**|トレース ファイルを作成した日付と時刻。  
|**[更新日時]** |トレース ファイルを変更した日付と時刻。  

### <a name="events-selection-tab"></a>[イベントの選択] タブ
**[トレース ファイルのプロパティ]** ダイアログ ボックスの **[イベントの選択]** タブを使用すると、トレースの列プロパティを表示したり、トレースからデータ列を削除したりできます。  
このウィンドウを表示するには、トレース ファイルを開きます。 次に、 **[ファイル]** メニューの **[プロパティ]** をクリックした後、 **[イベントの選択]** タブをクリックします。  

|Item|説明
|---|---
|**[イベント]** 列|イベント カテゴリにより分類された、ビューによりトレースされるイベントです。 最初は、トレースのイベントがすべて選択されています。 イベントのチェック ボックスをオンにするか、データ列をオンにすることでイベントを選択できます。 イベントのチェック ボックスをオンにすると、そのイベントで使用できるデータ列がすべて選択されます。 イベントのデータ列をオンにすると、イベントが選択されるだけでなく、そのほかに必要な列がすべて自動的に選択されます。 トレース ファイルまたはトレース テーブルを表示した場合、イベントのチェック ボックスやデータ列をオフにすることで、トレース ウィンドウに表示されるデータ量が減り、分析が容易になります。 列のフィルターを変更して、トレース ウィンドウに表示されるデータ量を減らすこともできます。 イベント クラスの詳細については、「 [SQL Server イベント クラスの参照](../../relational-databases/event-classes/sql-server-event-class-reference.md)」を参照してください。  
|データ列|トレースされるデータ列を表示します。 トレースに含まれる各イベントでは、トレースの関連するデータ列は既定ですべてオンになっています。  
|フィルター|フィルターを指定するには、データ列のヘッダーをクリックし、フィルター基準を入力します。 フィルター選択されるデータ列については、 **[フィルターの編集]** ダイアログ ボックスの列ラベルの左側にフィルターのアイコンが表示されます。  
|**[すべてのイベントを表示する]**|表示できるイベントをすべて表示します。 既定では、 **[イベントの選択]** グリッドで選択されている行だけが表示されます。 このチェック ボックスをオフにすると、 **[イベントの選択]** グリッドで選択されていないイベントがすべて非表示になります。 **[すべてのイベントを表示する]** がオンで、トレース ファイルまたはトレース テーブルを表示している場合、トレースに記録されたすべてのイベントがトレース ウィンドウに表示されます。  
|**[すべての列を表示]**|表示できるデータ列をすべて表示します。 既定では、選択されているデータ列だけが表示されます。 このチェック ボックスをオフにすると、 **[イベントの選択]** グリッドで選択されていないデータ列がすべて非表示になります。  
|**列フィルター**|**[フィルターの編集]** ダイアログ ボックスを起動します。フィルター選択されるデータ列の列ラベルの左側には、フィルターのアイコンが表示されます。 **[フィルターの編集]** ダイアログ ボックスを使用して、データ列のフィルターを編集します。  
|**[列の構成]**|**[イベント]** およびトレースするデータ列を選択した後、 **[列の構成]** をクリックすると、トレース結果のウィンドウの列が並べ替えられます。  

## <a name="trace-table-properties"></a>トレース テーブルのプロパティ
### <a name="events-selection-tab"></a>[イベントの選択] タブ
**[トレース テーブルのプロパティ]** ダイアログ ボックスの **[イベントの選択]** タブを使用すると、トレースのイベントやデータ列プロパティを表示したり、トレースからイベントまたは列を削除したりできます。  
このウィンドウを表示するには、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] を使用してトレース テーブルを開きます。 次に、 **[ファイル]** メニューの **[プロパティ]** をクリックした後、 **[イベントの選択]** タブをクリックします。  

|Item|説明
|---|---
|**[イベント]** 列|イベント カテゴリにより分類された、ビューによりトレースされるイベントです。 イベントのチェック ボックスをオンにするか、データ列をオンにすることでイベントを選択できます。 イベントのチェック ボックスをオンにすると、そのイベントで使用できるデータ列がすべて選択されます。 イベントのデータ列をオンにすると、イベントが選択されるだけでなく、そのほかに必要な列がすべて自動的に選択されます。 トレース ファイルまたはトレース テーブルを表示した場合、イベントのチェック ボックスやデータ列をオフにすることで、トレース ウィンドウに表示されるデータ量が減り、分析が容易になります。 列のフィルターを変更して、トレース ウィンドウに表示されるデータ量を減らすこともできます。 イベント クラスの詳細については、「 [SQL Server イベント クラスの参照](../../relational-databases/event-classes/sql-server-event-class-reference.md)」を参照してください。  
|その他のデータ列|トレースされるデータ列を表示します。 トレースに含まれる各イベントでは、トレースの関連するデータ列は既定ですべてオンになっています。  
|フィルター|フィルターを指定するには、データ列のヘッダーをクリックし、フィルター基準を入力します。 フィルター選択されるデータ列については、 **[フィルターの編集]** ダイアログ ボックスの列ラベルの左側にフィルターのアイコンが表示されます。  
|**[すべてのイベントを表示する]**|表示できるイベントをすべて表示します。 既定では、 **[イベントの選択]** グリッドで選択されている行だけが表示されます。 このチェック ボックスをオフにすると、 **[イベントの選択]** グリッドで選択されていないイベントがすべて非表示になります。 **[すべてのイベントを表示する]** がオンで、トレース ファイルまたはトレース テーブルを表示している場合、トレースに記録されたすべてのイベントがトレース ウィンドウに表示されます。  
|**[すべての列を表示]**|表示できるデータ列をすべて表示します。 既定では、選択されているデータ列だけが表示されます。 このチェック ボックスをオフにすると、 **[イベントの選択]** グリッドで選択されていないデータ列がすべて非表示になります。  
|**列フィルター**|**[フィルターの編集]** ダイアログ ボックスを起動します。ここでは、データ列のラベルの左側にフィルターのアイコンが表示されます。 このダイアログ ボックスを使用して、データ列のフィルターを編集できます。  
|**[列の構成]** |**[イベント]** およびトレースするデータ列を選択した後、 **[列の構成]** をクリックすると、トレース結果のウィンドウの列が並べ替えられます。  

## <a name="performance-counters-limit"></a>パフォーマンス カウンター制限
[パフォーマンス カウンター制限ダイアログ] ダイアログ ボックスを使用すると、システム モニターのパフォーマンス ログ ファイルと [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] トレースを相関させるときに、ファイルからの情報を制限できます。 このダイアログ ボックスで、相関のために表示して使用するカウンターを選択できます。  
**[パフォーマンス カウンター制限ダイアログ ボックス]** ダイアログ ボックスには、パフォーマンス ログ ファイルに含まれているパフォーマンス オブジェクトおよびカウンターによって値が入力されます。  
### <a name="to-select-performance-objects-and-counters-to-correlate-with-a-trace"></a>トレースと相関させるパフォーマンス オブジェクトおよびカウンターを選択するには  
1.  パフォーマンス オブジェクトを展開して、パフォーマンス ログ ファイルに含まれているカウンターを確認します。  
2.  [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] トレース ファイルと相関させる対象カウンターをオンにします。  

パフォーマンス オブジェクトに対してすべてのカウンターを選択する場合は、パフォーマンス オブジェクトの横にあるボックスをオンにします。 コンピューターを示している最上位ノードをオンにすると、パフォーマンス ログ ファイル内のすべてのパフォーマンス オブジェクトおよびカウンターが選択されます。 
## <a name="toolsoptions-general-options-page"></a>ツール/オプション ([全般オプション] ページ)
**[全般オプション]** ダイアログ ボックスを使用すると、以下のオプションを確認または指定できます。  
### <a name="display-options"></a>表示オプション  

|Item|説明
|---|---
|**[フォント名]**|トレースの実行中にトレース結果グリッドで使用されるフォントの名前を表示します。  
|**[フォント サイズ]**|トレースの実行中にトレース結果グリッドで使用されるフォントのサイズを表示します。  
|**[フォントの選択]**|フォント設定を変更するためのダイアログを開きます。  
|**[日時の値の表示に地域別設定を使用する]**|使用するコンピューター用に構成された地域の設定で日時の値を表示します。 このオプションを選択しない場合、日時の値は Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]が使用する固定形式 (ミリ秒を含む) で表示されます。 このチェック ボックスのオン/オフを切り替えることで、**StartTime** や **EndTime** などの時間列の表示形式が変更されることに注意してください。 ただし、言語イベントまたはリモート プロシージャ コール (RPC) 内の **DateTime** 値のパラメーターは変更されません。  
|**[実行時間列の値をマイクロ秒で表示する]**|トレースの **[実行時間]** データ列の値をマイクロ秒で表示します。 既定では、 **[実行時間]** 列の値はミリ秒で表示されます。  

### <a name="tracing-options"></a>トレース オプション  

|Item|説明
|---|---
|**[接続の確立直後にトレースを開始する]**|接続の確立直後に既定のテンプレートを使用してトレースを開始します。  
|**[プロバイダーのバージョンが変更されたときに、トレース定義を更新する]**|プロバイダーが更新されたときに、最新のトレース定義を [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に適用します。 既定ではオンになっていません。 このオプションをオンにすると、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] は、サーバーでトレース定義を問い合わせるクエリを実行し、トレース定義があればファイルをディスクに再作成します。  

### <a name="file-rollover-options"></a>ファイルのロールオーバー オプション  

|Item|説明
|---|---
|**[確認せずにすべてのロールオーバー ファイルを順に読み込む]**|トレース ファイルが開かれるとロールオーバー ファイルを自動的に読み込みます。 トレースの実行中に複数のファイルが作成されたときに、このオプションがオンになっている場合、すべてのロールオーバー ファイルが自動的に読み込まれます。  
|**[ロールオーバー ファイルを読み込む前に確認する]**|トレース ファイルを開いたときに、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] はロールオーバー ファイルを追加するかどうかをユーザーに確認してから追加します。  
|**[後続のロールオーバー ファイルを読み込まない]**|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] は、トレース ファイルを開いたときに、後続のロールオーバー ファイルを読み込みません。  

### <a name="replay-options"></a>再生オプション  

|Item|説明
|---|---
|**[再生スレッドの既定の数]**|同時に使用する再生スレッドの数を指定します。 使用する数を多くすると再生中のリソースも多くなりますが、再生のコンカレンシー数が増えます。  
|**[ヘルス モニターの既定の待機間隔 (秒)]**|再生の待機間隔を秒単位で指定します。 既定値は 3,600 秒 (1 時間) です。 この設定は、ヘルス モニターでスレッドが終了するまでに、このスレッドを実行できる時間の長さに影響を与えます。  
|**[ヘルス モニターの既定のポーリング間隔 (秒)]**|再生中のヘルス モニターのポーリング間隔を秒単位で指定します。 既定値は 60 秒です。 ユーザーはこの値を指定することで、終了するプロセスを決定するためにヘルス モニターがポーリングする頻度を設定できます。

## <a name="source-table-database-engine-tuning-advisor-select-workload-table"></a>基になるテーブル (データベース エンジン チューニング アドバイザーの [ワークロード テーブルの選択])
Microsoft SQL Server Profiler および チューニング アドバイザーでは、このダイアログ ボックスを使用してテーブルを選択します。  
- Profiler では、 **[基になるテーブル]** ダイアログ ボックスを使用して、トレース テーブルの基になるテーブルを指定します。 This is a table from which a trace is loaded, and the contents of which are viewed or used for replaying the trace.  
- チューニング アドバイザーでは、 **[ワークロード テーブルの選択]** ダイアログ ボックスを使用して、チューニング ワークロードとして使用する profiler トレース情報が格納されているデータベース テーブルを選択したり、チューニング分析を開始する前にテーブルの内容をプレビューしたりします。  

|Item|説明
|---|---
|**SQL Server**|現在接続されている SQL Server のインスタンスを指定します。 このフィールドには自動的に値が入力され、更新することはできません。  
|**[データベース]**|トレース テーブルがあるデータベースを指定します。  
|**所有者**|Specifies the owner of the trace table. このフィールドは、 **dbo**として自動的に入力されます。  
|**Table**|トレースの読み込み元のトレース テーブルの名前を指定します。  

## <a name="destination-table"></a>[ターゲット テーブル]
**[挿入先テーブル]** ダイアログ ボックスを使用すると、トレースを格納するテーブルを指定できます。  

|Item|説明
|---|---
|**SQL Server**|現在接続されている [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスを指定します。 このフィールドには自動的に値が入力され、更新することはできません。 サーバーを変更するには、 **[キャンセル]** をクリックして、トレース テーブルを格納する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスに接続します。  
|**[データベース]**|トレース テーブルを格納するデータベースを指定します。  
|**所有者**|Specifies the owner of the trace table. このフィールドは、 **dbo**として自動的に入力されます。  
|**Table**|トレースを格納するテーブルの名前を指定します。  

## <a name="replay-configuration"></a>構成の再生
### <a name="basic-replay-options"></a>基本再生オプション
**[構成の再生]** ダイアログ ボックスの **[再生オプションの基本設定]** ページを使用すると、トレース ファイルまたはテーブルの再生方法を指定できます。  
このウィンドウを表示するには、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] を使用して、再生するイベントを含むトレース ファイルまたはテーブルを開きます。 詳細については、「 [再生を実行するための必要条件](../../tools/sql-server-profiler/replay-requirements.md)」を参照してください。 トレース ファイルまたはテーブルが開いている状態で、 **[再生]** メニューの **[開始]** をクリックした後、トレースを再生する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスに接続します。  

|Item|説明
|---|---
|**[再生サーバー]**|再生のために接続する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスを表示します。  
|**[変更]**|**[サーバーへの接続]** ダイアログ ボックスを表示して、別のサーバーへ接続します。  
|**[ファイルに保存]** |再生結果をファイルに保存します。 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] により、ファイルを保存する場所を指定するための標準ファイル ダイアログが表示されます。  
|**[テーブルに保存]**|再生結果をテーブルに保存します。 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] により、テーブルを保存する場所を指定するためのテーブル選択ダイアログが表示されます。  
|**[再生スレッドの数]**|同時に使用する再生スレッドの数を指定します。 値を大きくするほど、再生時にはより多くのリソースが消費されますが、再生が高速になり、同時実行性が高くなります。  
|**[トレースされた順番にイベントを再生します。このオプションはデバッグを有効にします。]**|イベントを順番に再生します。 このオプションは、デバッグのためにトレースを再生する場合に使用します。  
|**[複数のスレッドを使用してイベントを再生します。このオプションはパフォーマンスを最適にし、デバッグを無効にします。]** |イベントを同時に再生します。 このオプションを選択した場合は、イベントを順番に再生するよりも処理が高速になりますが、デバッグができなくなります。 イベントは、システム プロセス識別子 (SPID) 内で順序付けられます。  
|**[再生結果を表示する]**|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]に再生結果を表示します。 

### <a name="advanced-replay-options"></a>再生オプションの詳細設定
**[構成の再生]** ダイアログ ボックスの **[再生オプションの詳細設定]** タブを使用すると、トレース ファイルの再生方法を指定できます。  
このウィンドウを表示するには、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] を使用して、再生するイベントを含むトレース ファイルまたはテーブルを開きます。 詳細については、「 [再生を実行するための必要条件](../../tools/sql-server-profiler/replay-requirements.md)」を参照してください。 トレース ファイルまたはテーブルを開いているときに、 **[再生]** メニューの **[開始]** をクリックして、トレースを再生する SQL Server インスタンスに接続してから、 **[再生オプションの詳細設定]** タブをクリックします。  

|Item|説明
|---|---
|**[システム SPID を再生する]**|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] でシステム プロセス識別子 (SPID) を再生するかどうかを指定します。  
|**[1 つの SPID のみ再生する]**|ソース トレース ファイルで、選択した SPID に関連する操作だけを再生します。  
|**[再生する SPID]**|再生する SPID を指定します。  
|**[日時により再生を制限する]**|オンにすると、ソース トレース ファイルの一部だけを再生します。  
|**[開始時刻]**|ソース トレース ファイル内の再生の開始位置を示す日付と時刻です。  
|**[終了時刻]**|ソース トレース ファイル内の再生の終了位置を示す日付と時刻です。  
|**[ヘルス モニターの待機間隔 (秒)]**|再生の待機間隔を秒単位で指定します。 既定値は 3,600 秒 (1 時間) です。 この設定値によって、プロセスがヘルス モニターにより終了されるまでの実行時間の長さが決まります。  
|**[ヘルス モニターのポーリング間隔 (秒)]**|再生中のヘルス モニターのポーリング間隔を秒単位で指定します。 既定値は 60 秒です。 ユーザーはこの値を指定することで、終了するプロセスを決定するためにヘルス モニターがポーリングする頻度を設定できます。  
|**[SQL Server のブロックされるプロセスの監視を有効にする]**|ブロックされるプロセス、またはブロックするプロセスを検索するプロセスを有効にします。  
|**[ブロックされるプロセスの監視の待機間隔 (秒)]**|ブロックされるプロセス モニターで、ブロックされるプロセスまたはブロックするプロセスを検索する頻度を設定します。  

## <a name="find-dialog-box"></a>[検索] ダイアログ ボックス
**[検索]** ダイアログ ボックスを使用すると、トレース内で特定の文字や単語を検索できます。 検索の実行中に取り消すには、<localizedText>Esc</localizedText> キーを押します。  
 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]でこのダイアログ ボックスを開くには、 **[編集]** メニューの **[検索]** をクリックします。  

|Item|説明
|---|---
|**[検索する文字列]**|検索するテキストを入力します。 指定した文字列を含むすべての文字列が検索されます。 たとえば、検索文字列として "Completed" を指定すると、一致する文字列として "SQL:BatchCompleted" が検索されます。 ワイルドカード文字 (*、? など) はサポートされません。  
|**[検索する列]**|検索するデータ列をクリックします。または、トレース内のすべてのデータ列を検索するには、 **\<All columns>** をクリックします。  
|**[大文字と小文字を区別する]**|**[検索する文字列]** ボックスで指定したテキストと、大文字と小文字の違いまで一致するテキストを検索します。 このチェック ボックスをオフにすると、大文字と小文字の違いが一致しないテキストも含めてトレースを検索します。  
|**[単語単位]**|単語全体に一致する対象のみを検索します。 **[単語単位]** チェック ボックスをオフにすると、単語内の文字列も検索対象になります。  
|**[次を検索]**|次に出現する **[検索する文字列]** ボックスの文字列を検索します。  
|**[前を検索]**|トレース内をさかのぼって、前に出現する **[検索する文字列]** ボックスの文字列を検索します。  

 ## <a name="organize-columns"></a>列の構成
大きなトレース ファイルまたはトレース テーブルの表示や分析を簡単に行えるように、トレースに表示されるイベントをグループ化または集計する場合は、 **[列の構成]** ダイアログ ボックスを使用してデータ列を選択します。  
- 集計を実行すると、トレース内のすべてのイベントはそれぞれのイベント クラスの種類の下に移動され、折りたたまれます。 イベント クラス名の左側にプラス記号 ( **[+]** ) が表示されます。 プラス記号をクリックしてイベント クラスを展開すると、その種類のイベントがすべて表示されます。  
- グループ化を実行すると、特定の種類のすべてのイベント クラスがトレース ウィンドウ表示にまとめて構成されます。 ただし、イベントはイベント クラスの種類の下に折りたたまれません。  

トレース ウィンドウ表示内でイベントのグループ化または集計を行うときに、選択されている列は表示ウィンドウ内で固定された状態のままですが、左右にスクロールして他のデータ列をすべて見ることができます。  
このダイアログ ボックスを表示するには、既存のトレース ファイルまたはトレース テーブルを開き、[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] で **[ファイル]** メニューの **[プロパティ]** をクリックします。 **[トレースのプロパティ]** ダイアログ ボックスで、 **[イベントの選択]** タブをクリックし、次に **[列の構成]** をクリックします。 新しいトレースを作成する場合も、 **[イベントの選択]** タブの **[列の構成]** をクリックします。  
**[グループ]** でデータ列名を移動することにより、トレース ウィンドウでイベント クラスのグループ化または集計を実行できます。
- イベントを集計するには、1 つのデータ列を **[グループ]** に移動します。 これにより、特定の種類のすべてのイベントが、トレース ウィンドウ表示のイベント クラスの種類名の下に折りたたまれます。 イベント クラス名の左側にプラス記号 ( **[+]** ) が表示されます。 このプラス記号をクリックすると、イベント クラスの種類が展開され、すべてのイベントが表示されます。 集計とグループ化のオンとオフを設定するには、 **[表示]** メニューの **[集計ビュー]** または **[グループ化ビュー]** をクリックします。
- イベントをグループ化するには、複数のデータ列を **[グループ]** に移動します。 これにより、トレース ウィンドウ表示で特定の種類のすべてのイベントがグループ化されますが、イベントは各イベント クラスの種類名の下には折りたたまれません。 グループ化ビューとグループ化されていないビューを切り替えるには、[表示] メニューの **[グループ化ビュー]** をクリックします。 複数のデータ列を **[グループ]** に移動した場合、 **[集計ビュー]** に切り替えることはできません。

|Item|説明
|---|---
|**[列]**|**[グループ]** への移動に使用できるデータ列の一覧です。 **[列]** の左にあるプラス記号 ( **[+]** ) をクリックすると、一覧が展開されます。  
|**Up**|データ列を選択した後で、 **[上へ]** をクリックすると、データ列を上に移動して **[グループ]** に入れることができます。 また、 **[上へ]** をクリックして、トレース ウィンドウ表示内の列の表示を再構成することもできます。  
|**[下へ]**|データ列を選択した後で、 **[下へ]** をクリックすると、データ列を下に移動して **[グループ]** から除外することができます。 また、 **[下へ]** をクリックして、トレース ウィンドウ表示内の列の表示を再構成することもできます。  

## <a name="edit-filter"></a>フィルターの編集
**[フィルターの編集]** ダイアログ ボックスを使用すると、トレース内のデータ列フィルターを作成および変更できます。 一覧のデータ列名をクリックすると、そのデータ列に使用できるフィルター条件が横のペインに表示されます。 フィルター条件を入力して **[OK]** をクリックすると、選択したデータ列にその条件が適用されます。 一覧のデータ列名の左側にフィルター アイコンが表示されている場合、その列には既にフィルターが構成されています。  
 >[!NOTE]
 >文字列型のデータ列の場合、フィルター条件は LIKE または NOT LIKE 文字列値として表示されます。  

## <a name="select-template-name"></a>[テンプレート名の選択]
**[テンプレート名の選択]** ダイアログ ボックスを使用すると、既存の [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] トレース テンプレートを選択してオペレーティング システム上のファイルにエクスポートできます。 また、このダイアログ ボックスを使用すると、既存のトレース テンプレートを編集する場合に、別の名前を選択または入力してトレース テンプレートを保存できます。 テンプレートをエクスポートするときにこのダイアログ ボックスにアクセスするには、[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] で **[ファイル]** メニューの **[テンプレート]** をポイントし、 **[テンプレートのエクスポート]** をクリックします。 テンプレート名を変更する場合にこのダイアログ ボックスにアクセスするには、 **[ファイル]** メニューの **[テンプレート]** をポイントし、 **[テンプレートの編集]** をクリックします。次に、 **[名前を付けて保存]** をクリックします。  

|Item|説明
|---|---
|**サーバーの種類**|テンプレートを選択するサーバーの種類を選択します。 このオプションは、テンプレートをエクスポートする場合のみ使用できます。  
|**テンプレート名**|新しいテンプレート名を入力するか、一覧からテンプレート名を選択します。 テンプレートをエクスポートする場合は、一覧からのみテンプレート名を選択できます。 

## <a name="see-also"></a>関連項目 
[[SQL Server Profiler]](../../tools/sql-server-profiler/sql-server-profiler.md)   
[サーバーのパフォーマンスと利用状況の監視](../../relational-databases/performance/server-performance-and-activity-monitoring.md)  
  
