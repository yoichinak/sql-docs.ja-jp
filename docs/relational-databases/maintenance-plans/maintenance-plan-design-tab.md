---
title: '[メンテナンス プラン] ([デザイン] タブ)'
description: '[メンテナンス プラン] ([デザイン] タブ)'
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql13.swb.maint.maintplanproperties.optimizations.f1
- sql13.swb.maint.planeditor.f1
- sql13.swb.maint.subplaneditor.f1
- Task.FileExtension
ms.assetid: 6d20d4d4-5b3f-454a-8a05-f0aac803c5ad
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 75cc3aaec07d038ed6218a7a20268e94f23d3949
ms.sourcegitcommit: c5078791a07330a87a92abb19b791e950672e198
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/26/2020
ms.locfileid: "93067324"
---
# <a name="maintenance-plan-design-tab"></a>[メンテナンス プラン] ([デザイン] タブ)

[!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

**[メンテナンス プラン] \([デザイン] タブ)** では、メンテナンス プランとそのサブプランのプロパティを指定します。 ツールボックスのタスクをプラン デザイナーにドラッグします。 タスクのグループを右クリックし、分岐する実行パスを作成します。 メンテナンス プランは、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] エージェント ジョブで実行される [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] パッケージとして保存されます。  
  
## <a name="options"></a>オプション  
 **[サブプランの追加]**  
 構成できるサブプランを追加します。  
  
 **[サブプランのプロパティ]**  
 **[サブプランのプロパティ]** ダイアログ ボックスが表示されます。 グリッドでサブプランを選択し、このアイコンをクリックして名前、説明、スケジュールを入力します。 グリッドでサブプランをダブルクリックして、 **[サブプランのプロパティ]** ダイアログ ボックスを表示することもできます。 サブプランの名前は 128 文字までに制限されています。また、サブプランの説明は 512 文字までに制限されています。  
  
 **[選択したサブプランの削除]**  
 選択されているサブプランを削除します。  
  
 **[サブプランのスケジュール]**  
 **[ジョブ スケジュールのプロパティ]** ダイアログ ボックスが表示されます。 グリッドでサブプランを選択し、このアイコンをクリックしてスケジュールを構成します。  
  
 **[スケジュールの削除]**  
 選択されているサブプランからスケジュールを削除します。  
  
 **接続の管理**  
 **[接続の管理]** ダイアログ ボックスが表示されます。 メンテナンス プランに [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンス接続を追加する際に使用します。 サブプラン エディターで、各メンテナンス タスクについてこの接続を使用できます。 実行時には、メンテナンス プランで接続資格情報が使用され、指定した [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サーバーとメンテナンス プラン サーバーが接続されます。  
  
 **[レポートとログ記録]**  
 **[レポートとログ記録]** ダイアログ ボックスが表示されます。これは、メンテナンス プランの利用状況に関するレポートの管理、およびローカル サーバーやリモート サーバーへのログ記録の構成に使用されます。  
  
 **サーバー**  
 **[サーバー]** ダイアログ ボックスが表示されます。このダイアログ ボックスで、サブプラン タスクを実行するサーバーを選択します。 このオプションは、マルチサーバー環境のマスター サーバーのみで有効になります。 詳細については、「 [マルチサーバー環境の作成](../../ssms/agent/create-a-multiserver-environment.md)」を参照してください。  
  
 **名前**  
 メンテナンス プランの名前が表示されます。 新しいメンテナンス プランの名前は、メンテナンス プラン デザイナーを開く前にダイアログ ボックスで指定します。 メンテナンス プランの名前を変更するには、オブジェクト エクスプローラーでプランを右クリックし、 **[名前の変更]** をクリックします。  
  
 **説明**  
 メンテナンス プランの説明を表示または指定します。 説明の長さは最大 512 文字です。  
  
 **デザイナー画面**  
 メンテナンスプランのデザインとメンテナンスを行います。 デザイナー画面を使用して、プランへのメンテナンス タスクの追加、プランからのタスクの削除、タスク間の優先順位制約の指定、タスクの分岐および並列処理の指定を行います。  
  
 2 つのタスクの間にある優先順位制約により、タスク間の関係が確立されます。 1 番目のタスク ( *先行タスク*) の実行結果が指定の条件を満たした場合のみ、2 番目のタスク ( *依存タスク*) が実行されます。 一般的に指定される実行結果は、 **[成功]** 、 **[失敗]** 、 **[完了]** のいずれかです。 メンテナンス プランのデザイナー画面は、 [!INCLUDE[ssIS](../../includes/ssis-md.md)] のデザイナー画面を基にしています。 詳細については、「 [優先順位制約](../../integration-services/control-flow/precedence-constraints.md)」を参照してください。  
  
 たとえば、インデックスの再構成タスクは、先行するデータベースの整合性確認タスクが正常に完了した場合のみ実行するように指定できます。 タスクの優先順位制約機能を利用すると、プランでエラーや失敗の条件を処理することもできます。 たとえば、データベースの整合性確認タスクが失敗したときに、オペレーターへの通知タスクを実行してユーザーまたはオペレーターに失敗を通知できます。  
  
 *タスク分岐* の例としては、先行するタスクが失敗した後に実行するタスクを指定することなどがあります。  
  
 *タスクの並列処理* の例としては、先行するタスクが正常に完了した場合に、複数のタスクを同時に開始するように指定することなどがあります。 制約のないすべてのタスクは、並行して開始および実行されます。 制約を使用すると、先行するタスクが完了するまでタスクを待機させることができます。  
  
 メンテナンス タスクをデザイン画面に配置した後で、タスクのプロパティを必要に応じて編集できます。 たとえば、データベースのバックアップ タスクをプランに追加した後で、そのタスクでバックアップするデータベースを指定できます。 デザイン画面で適切に設定されていないタスクには、白い x 印の付いた赤いアイコンが表示されます。  
  
 メンテナンス タスクをプランに追加するには、 **[メンテナンス プランのタスク]** ツールボックスからプランのデザイン画面にタスクのアイコンをドラッグします。また、このツールボックスでタスクをダブルクリックすると、アクティブになっているデザイン画面にタスクが追加されます。 **[メンテナンス プランのタスク]** ツールボックスが表示されていない場合は、 の [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **[表示]** メニューから **[ツールボックス]** を選択します。 **[ツールボックス]** ペインの **[メンテナンス プランのタスク]** ノードを展開します。  
  
 プランからタスクを削除するには、デザイナー画面でタスクをクリックして **Del** キーを押すか、タスクを右クリックして **[削除]** をクリックします。  
  
 2 つのタスク間の優先順位制約を指定するには、まず必要なタスクをデザイン画面にドラッグします。次に、先に実行するタスク (先行タスク) をクリックし、矢印を依存タスクまでドラッグします。 優先順位制約が作成されると、先行タスクから依存タスクに向かって、2 つのタスクを結ぶ矢印が表示されます。 既定では、リンクが最初に作成されたときには、先行タスクの実行結果が **[成功]** の場合にのみ依存タスクが実行されるように、リンクの制約が設定されます。  
  
 優先順位制約のプロパティを変更するには、リンクをダブルクリックして **[優先順位制約エディター]** を起動します。 このエディターには、依存タスクを実行するかどうかを決定する論理条件を指定する、さまざまなオプションがあります。 たとえば、 **[値]** を **[失敗]** に設定した場合、依存タスクは先行タスクが失敗した場合にのみ実行されます。 リンクの [値] プロパティを **[成功]**、 **[失敗]**、 **[完了]** のいずれかに変更するには、リンクを右クリックしてショートカット メニューから選択する方法もあります。  
  
 タスクの分岐を指定するには、まず 2 つのタスク間の優先順位制約を作成します。 次に、最初の依存タスクとは異なる出力の場合に実行される別の依存タスクをデザイン画面に配置します。 先行タスクをクリックし、先行タスクからその依存タスクに向かって 2 つ目の矢印をドラッグします。 依存タスクの実行条件となる実行結果 (**[成功]**、 **[失敗]**、 **[完了]**) を変更するには、リンクの矢印をダブルクリックして、 **[値]** フィールドを変更します。 または、リンクを右クリックしてショートカット メニューから適切な実行結果を選択します。  
  
 タスクの並列処理を指定するには、1 つの先行タスクに複数の従属タスクをリンクさせます。 並列実行される依存タスクにつながるリンクの [値] フィールドの値が同じになるように、リンクのプロパティを変更します。  
  
## <a name="additional-features-available-from-the-shortcut-menu"></a>ショートカット メニューから使用できるその他の機能  
 その他のオプションを表示するには、デザイン画面で 1 つ以上のタスクを選択して右クリックし、ショートカット メニューを開きます。 **[切り取り]**、 **[コピー]**、 **[貼り付け]**、 **[削除]**、 **[すべて選択]** などの一般的なオプションに加え、一部のタスクでは次の特殊なオプションも表示されます。  
  
 **[注釈の追加]**  
 デザイン画面に覚え書きを追加します。  
  
 **[編集]**  
 タスクの [プロパティ] ダイアログ ボックスを開きます。  
  
 **無効化**  
 タスクが一時的に使用できなくなります。  
  
 **有効化**  
 無効にしたタスクを元に戻します。  
  
 **グループ**  
 1 つ以上のタスクを含むグループを作成します。  
  
 **[グループ解除]**  
 グループからタスクを削除します。  
  
 **Autosize**  
 各タスクのサイズを、そのタスクに適したサイズに設定します。  
  
 **[折りたたみ]**  
 グループ内のタスクを非表示にします。  
  
 **expand**  
 **[折りたたみ]** を使用して非表示にされているグループ内のタスクを表示します。  
  
 **Zoom**  
 デザイン画面上のタスクのサイズを変更します。  
  
## <a name="see-also"></a>参照  
 [メンテナンス プラン](../../relational-databases/maintenance-plans/maintenance-plans.md)   
 [メンテナンス プランの作成](../../relational-databases/maintenance-plans/create-a-maintenance-plan.md)  
  
  
