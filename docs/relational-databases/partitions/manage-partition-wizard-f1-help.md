---
description: パーティションの管理ウィザード
title: パーティションの管理ウィザード
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: ''
ms.topic: reference
f1_keywords:
- sql13.swb.managepartition.createjob.f1
- sql13.swb.managepartition.progress.f1
- sql13.swb.managepartition.getstart.f1
- sql13.swb.managepartition.selectswitchtables.f1
- sql13.swb.managepartition.stagingtable.f1
- sql13.swb.managepartition.switchin.f1
- sql13.swb.managepartition.switchout.f1
- sql13.swb.managepartition.partitionaction.f1
- sql13.swb.managepartition.summary.f1
- sql13.swb.managepartition.selectoutput.f1
helpviewer_keywords:
- wizards [SQL Server Management Studio] See Manage Partition Wizard
ms.assetid: e2478d26-dea4-428d-98c5-aad2d2a30da8
author: julieMSFT
ms.author: jrasnick
ms.openlocfilehash: 756dd29442fe224f5e0518066cbbfdcbf2ba5ea6
ms.sourcegitcommit: b3a711a673baebb2ff10d7142b209982b46973ae
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/05/2020
ms.locfileid: "93364676"
---
# <a name="manage-partition-wizard"></a>パーティションの管理ウィザード 
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  **パーティションの管理ウィザード** を使用すると、パーティションの切り替えやスライディング ウィンドウ シナリオの実装によって、既存のパーティション テーブルを管理および変更することができます。 このウィザードによって、パーティションの管理が容易になり、テーブル内外へのデータの通常の移行が簡単になります。  
  
### <a name="to-start-the-manage-partition-wizard"></a>パーティションの管理ウィザードを起動するには  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]で、データベースを選択し、パーティションを作成するテーブルを右クリックして **[ストレージ]** をポイントし、 **[パーティションの管理]** をクリックします。  
  
     **注** **[パーティションの管理]** を使用できない場合は、パーティションがないテーブルを選択している可能性があります。 **[ストレージ]** サブメニューの **[パーティションの作成]** をクリックし、 **パーティションの作成ウィザード** を使用してテーブルにパーティションを作成してください。  
  
 パーティション インデックスについての一般情報については、「 [パーティション テーブルとパーティション インデックス](../../relational-databases/partitions/partitioned-tables-and-indexes.md)」を参照してください。  
  
 ここでは、 **パーティションの管理ウィザード** を使用してパーティションを管理、変更、および実装する場合に必要な情報を提供します。  
  
##  <a name="in-this-section"></a><a name="Top"></a> トピックの内容  
 以下のセクションでは、 **パーティションの管理ウィザード** の各ページのヘルプについて紹介します。  
  
 [パーティションの管理ウィザード ([パーティション操作の選択] ページ)](#SelectPartitionAction)  
  
 [パーティションの管理ウィザード ([切り替え先] ページ)](#SwitchIn)  
  
 [パーティションの管理ウィザード ([切り替え元] ページ)](#SwitchOut)  
  
 [パーティションの管理ウィザード ([ステージング テーブル オプションの選択] ページ)](#StagingTableOptions)  
  
 [パーティションの管理ウィザード ([出力オプションの選択] ページ)](#OutputOption)  
  
 [パーティションの管理ウィザード ([新しいジョブ スケジュール] ページ)](#NewJob)  
  
 [パーティションの管理ウィザード ([概要] ページ)](#Summary)  
  
 [パーティションの管理ウィザード ([進行状況] ページ)](#Progress)  
  
##  <a name="select-partition-action-page"></a><a name="SelectPartitionAction"></a> [パーティション操作の選択] ページ  
 **[パーティション操作の選択]** ページを使用すると、パーティションに対して実行する操作を選択できます。  
  
### <a name="create-a-staging-table"></a>ステージング テーブルの作成  
 定期的にデータの入れ替えを行っているパーティション テーブルが存在する場合、パーティションの切り替えは一般的なパーティション分割タスクです。たとえば、現在の四半期データを格納するパーティション テーブルがある場合は、各四半期末に新しいデータを追加し、古いデータをアーカイブする必要があります。  
  
 ウィザードは、同一のパーティション分割列、テーブル/列構造、およびインデックスを持つステージング テーブルをデザインし、基になるパーティションがあるファイル グループに新しいテーブルを格納します。  
  
 パーティション データの切り替え先または切り替え元になるステージング テーブルを作成するには、 **[パーティション切り替え用のステージング テーブルを作成する]** を選択します。  
  
### <a name="sliding-window-scenario"></a>スライディング ウィンドウ シナリオ  
 スライディング ウィンドウ シナリオでパーティションを管理するには、 **[スライディング ウィンドウ シナリオでパーティション分割されたデータを管理する]** を選択します。  
  
### <a name="ui-element-list"></a>UI 要素の一覧  
 **[パーティション切り替え用のステージング テーブルを作成する]**  
 既存のパーティション テーブルのデータの切り替え先または切り替え元になるステージング テーブルを作成します。  
  
 **[切り替え元パーティション]**  
 テーブルからパーティションを削除するときのオプションを提供します。  
  
 **[切り替え先パーティション]**  
 テーブルにパーティションを追加するときのオプションを提供します。  
  
 **[スライディング ウィンドウ シナリオでパーティション分割されたデータを管理する]**  
 データの切り替えに使用できる空のパーティションを既存のテーブルに追加します。 ウィザードでは、現在、最後のパーティションへの切り替えと最初のパーティションからの切り替えがサポートされています。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="select-partition-switching-in-options-page"></a><a name="SwitchIn"></a> [パーティションの切り替え先オプションの選択] ページ  
 **[パーティションの切り替え先オプションの選択]** ページを使用すると、パーティション テーブルに切り替えるステージング テーブルを選択できます。  
  
### <a name="ui-element-list"></a>UI 要素の一覧  
 **[すべてのパーティションを表示]**  
 現在パーティション テーブル内にあるパーティションを含む、すべてのパーティションを表示します。  
  
 **[パーティション グリッド]**  
 選択したパーティションのパーティション名、 **[左側の境界]** 、 **[右側の境界]** 、 **[ファイル グループ]** 、および **[行数]** を表示します。  
  
 **[切り替え先テーブル]**  
 パーティション テーブルに追加するパーティションを含んでいるステージング テーブルを選択します。 **パーティションの管理ウィザード** でパーティションを切り替える前に、このステージング テーブルを作成する必要があります。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="select-partition-switching-out-options-page"></a><a name="SwitchOut"></a> [パーティションの切り替え元オプションの選択] ページ  
 **[パーティションの切り替え元オプションの選択]** ページを使用すると、切り替え元のパーティション テーブルのパーティション分割されたデータを保持するパーティションとステージング テーブルを選択できます。  
  
### <a name="ui-element-list"></a>UI 要素の一覧  
 **[パーティション グリッド]**  
 選択したパーティションのパーティション名、 **[左側の境界]** 、 **[右側の境界]** 、 **[ファイル グループ]** 、および **[行数]** を表示します。  
  
 **[切り替え元テーブル]**  
 データの切り替え元となる新しいテーブルまたは既存のテーブルを選択します。  
  
 **[新規作成]**  
 現在の切り替え元テーブルを切り替えるパーティションに使用するステージング テーブルの、新しい名前を入力します。  
  
 **Existing**  
 現在の切り替え元テーブルを切り替えるパーティションに使用する、既存のステージング テーブルを選択します。 既存のテーブルにデータが含まれている場合は、切り替え元データで上書きされます。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="select-the-staging-table-options-page"></a><a name="StagingTableOptions"></a> [ステージング テーブル オプションの選択] ページ  
 **[ステージング テーブル オプションの選択]** ページを使用すると、パーティション分割されたデータの切り替えに使用するステージング テーブルを作成できます。  
  
 ステージング テーブルは、元のテーブルがある、選択したパーティションと同じファイル グループに存在する必要があります。 ステージング テーブルは、切り替え元テーブルと切り替え先テーブルの両方の設計をミラー化する必要があります。  
  
 また、基になるパーティションと同じインデックスを、ステージング テーブルに作成することもできます。 ステージング テーブルには、基になるパーティションの要素に基づく制約が自動的に格納されます。 この制約は、通常、基になるパーティションの境界値から生成されます。  
  
### <a name="ui-element-list"></a>UI 要素の一覧  
 **[ステージング テーブル名]**  
 ステージング テーブルの名前を作成するか、エディット ボックスに表示された既定の名前を受け入れます。  
  
 **[パーティションの切り替え]**  
 現在のテーブルを切り替える、基になるパーティションを選択します。  
  
 **[新しい境界値]**  
 ステージング テーブルのパーティション用の境界値を選択または入力します。  
  
 **[ファイル グループ]**  
 新しいテーブルのファイル グループを選択します。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="select-output-option-page"></a><a name="OutputOption"></a> [出力オプションの選択] ページ  
 **[出力オプションの選択]** ページで、パーティションに対する変更を完了する方法を指定します。  
  
### <a name="create-script"></a>[スクリプトの作成]  
 ウィザードの完了時に、テーブルのパーティションを変更するためのスクリプトがクエリ エディターで作成されます。 スクリプトを確認し、手動で実行する場合は、 **[スクリプトの作成]** を選択します。  
  
 **[スクリプトをファイルに保存]**  
 スクリプトを .sql ファイルに生成します。 **Unicode** または **ANSI テキスト** を指定します。 ファイルの名前と場所を指定するには、 **[参照]** をクリックします。  
  
 **[スクリプトをクリップボードに保存]**  
 スクリプトをクリップボードに保存します。  
  
 **[スクリプトを新しいクエリ ウィンドウに保存]**  
 スクリプトをクエリ エディター ウィンドウに生成します。 エディター ウィンドウが開いていない場合、スクリプトのターゲットとして新しいエディター ウィンドウが開きます。  
  
### <a name="run-immediately"></a>[すぐに実行する]  
 **Run immediately**  
 ウィザードで **[次へ]** または **[完了]** をクリックしたときにパーティションの変更が完了するようにします。  
  
### <a name="schedule"></a>スケジュール  
 スケジュールした日時にテーブル パーティションを変更する場合に選択します。  
  
 **[スケジュールの変更]**  
 **[新しいジョブ スケジュール]** ダイアログ ボックスを開きます。このダイアログ ボックスでは、スケジュールされたジョブのプロパティを選択、変更、または表示できます。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="new-job-schedule-page"></a><a name="NewJob"></a> [新しいジョブ スケジュール] ページ  
 **[新しいジョブ スケジュール]** ページを使用すると、スケジュールのプロパティを表示したり、変更したりできます。  
  
### <a name="options"></a>Options  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェント ジョブに必要なスケジュールの種類を選択します。  
  
 **名前**  
 スケジュールの新しい名前を入力します。  
  
 **[スケジュール済みのジョブ]**  
 スケジュールを使用する既存のジョブを表示します。  
  
 **[スケジュールの種類]**  
 スケジュールの種類を選択します。  
  
 **有効**  
 スケジュールを有効または無効にします。  
  
### <a name="recurring-schedule-types-options"></a>定期スケジュールのオプション  
 スケジュールされているジョブの頻度を選択します。  
  
 **[実行]**  
 スケジュールが定期的に実行される間隔を選択します。  
  
 **[間隔]**  
 スケジュールを実行する間隔を日数または週数で選択します。 このオプションは、月単位のスケジュールでは使用できません。  
  
 **月曜日**  
 月曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **火曜日**  
 火曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **水曜日**  
 水曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **木曜日**  
 木曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **金曜日**  
 金曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **土曜日**  
 土曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **日曜日**  
 日曜日にジョブを実行するように設定します。 週単位のスケジュールでのみ選択できます。  
  
 **日**  
 スケジュールが発生する日を選択します。 月単位のスケジュールでのみ選択できます。  
  
 **[間隔]**  
 スケジュールを実行する間隔を月数で選択します。 月単位のスケジュールでのみ選択できます。  
  
 **[曜日]**  
 月の特定の週における特定の曜日をスケジュールに指定します。 月単位のスケジュールでのみ選択できます。  
  
 **[1 回]**  
 毎日実行するジョブの開始時刻を設定します。  
  
 **[間隔]**  
 ジョブの実行間隔を時間と分の単位で設定します。  
  
 **開始日**  
 設定したスケジュールの適用開始日を指定します。  
  
 **終了日**  
 設定したスケジュールを適用する期間の最終日を指定します。  
  
 **[終了日なし]**  
 スケジュールを無期限に適用するように指定します。  
  
### <a name="one-time-schedule-types-options"></a>指定日時スケジュールのオプション  
 ジョブを一度だけ実行するようにスケジュールする場合は、将来の日付と時刻を選択する必要があります。  
  
 **Date**  
 ジョブを実行する日付を選択します。  
  
 **Time**  
 ジョブを実行する時刻を選択します。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="summary-page"></a><a name="Summary"></a> [概要] ページ  
 **[概要]** ページを使用すると、前の各ページで選択したオプションを確認できます。  
  
### <a name="ui-element-list"></a>UI 要素の一覧  
 **[選択内容の確認]**  
 ウィザードの各ページで行った選択の内容が表示されます。 ノードをクリックして展開すると、以前に選択したオプションが表示されます。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
##  <a name="progress-page"></a><a name="Progress"></a> [進行状況] ページ  
 **[進行状況]** ページを使用すると、 **パーティションの管理ウィザード** のアクションに関する状態情報を監視できます。 ウィザードで選択したオプションに応じて、 **[進行状況]** ページに 1 つまたは複数のアクションが含まれる可能性があります。 上部のボックスには、ウィザードの全体的な状態と受信した状態メッセージ、エラー メッセージ、および警告メッセージの数が表示されます。  
  
### <a name="options"></a>Options  
 **詳細**  
 アクション、状態、およびウィザードで実行したアクションから返されたメッセージが提供されます。  
  
 **操作**  
 各アクションの種類と名前を指定します。  
  
 **状態**  
 全体としてウィザードのアクションが **[成功]** または **[失敗]** のいずれの値を返したかを示します。  
  
 **メッセージ**  
 プロセスから返されたすべてのエラー メッセージまたは警告メッセージを提供します。  
  
 **Stop**  
 ウィザードのアクションを停止します。  
  
 **Report**  
 **パーティションの管理ウィザード** の結果を含むレポートを作成します。 オプションは次のとおりです。  
  
-   **[レポートの表示]**  
  
-   **[レポートをファイルに保存]**  
  
-   **[レポートをクリップボードにコピー]**  
  
-   **[レポートを電子メールとして送信]**  
  
 **[レポートの表示]**  
 **[レポートの表示]** ダイアログ ボックスを開きます。 このダイアログ ボックスでは、 **パーティションの管理ウィザード** の進行状況のテキスト レポートが表示されます。  
  
 **[閉じる]**  
 ウィザードを閉じます。  
  
 ![[トップに戻る] リンクで使用される矢印アイコン](/analysis-services/analysis-services/instances/media/uparrow16x16.gif "[トップに戻る] リンクで使用される矢印アイコン") [このセクションの内容](#Top)  
  
## <a name="see-also"></a>参照  
 [パーティション テーブルとパーティション インデックス](../../relational-databases/partitions/partitioned-tables-and-indexes.md)  
  
