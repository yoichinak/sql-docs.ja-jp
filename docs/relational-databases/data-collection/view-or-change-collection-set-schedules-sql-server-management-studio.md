---
description: コレクション セットのスケジュールの表示または変更 (SQL Server Management Studio)
title: コレクション セットのスケジュールの表示または変更
ms.date: 06/03/2020
ms.prod: sql
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql13.swb.dc.collectionsetprop.uploads.f1
- sql13.swb.dc.collectionsetprop.description.f1
- sql13.swb.dc.collectionsetprop.general.f1
helpviewer_keywords:
- collection sets [SQL Server], changing schedules
- schedules [SQL Server], changing collection set
- collection sets [SQL Server], viewing schedules
- schedules [SQL Server], viewing collection set
ms.assetid: 26336c98-78c5-414f-8d6a-574fc3af60c4
author: MashaMSFT
ms.author: mathoma
ms.custom: seo-lt-2019
ms.openlocfilehash: a38184e47dafaebb105647be839f28ab057a0180
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/17/2020
ms.locfileid: "88487114"
---
# <a name="view-or-change-collection-set-schedules-sql-server-management-studio"></a>コレクション セットのスケジュールの表示または変更 (SQL Server Management Studio)
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  コレクション セットのスケジュールは、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]を使用して表示または変更できます。  
  
 コレクション モードをキャッシュと非キャッシュのどちらにするかで、スケジュールをどのように変更できるかが決まります。 キャッシュ モードでは、コレクションとアップロードに別々のスケジュールが使用されます。 非キャッシュ モードでは、コレクションとアップロードに同じスケジュールが使用されます。 それぞれのシステム データ コレクション セットで使用されるコレクション モードの種類は次のとおりです。  
  
-   **ディスク使用量** では非キャッシュ コレクション モードが使用されます。  
  
-   **クエリ統計情報** ではキャッシュ コレクション モードが使用されます。  
  
-   **サーバー利用状況** ではキャッシュ コレクション モードが使用されます。  
  
### <a name="to-view-collection-set-schedules"></a>コレクション セットのスケジュールを表示するには  
  
1.  オブジェクト エクスプローラーで、 **[管理]** ノード、 **[データ コレクション]** 、 **[システム データ コレクション セット]** の順に展開します。  
  
2.  コレクション セット名を右クリックし、 **[プロパティ]** をクリックして [[データ コレクション セットのプロパティ]](#CollectionSet) ダイアログ ボックスを開きます。  
  
### <a name="to-change-the-schedules-for-a-cached-mode-collection-set"></a>キャッシュ モードのコレクション セットのスケジュールを変更するには  
  
1.  オブジェクト エクスプローラーで、 **[管理]** ノード、 **[データ コレクション]** 、 **[システム データ コレクション セット]** の順に展開します。  
  
2.  **[クエリ統計情報]** などのキャッシュ モードを使用するコレクション セットを右クリックし、 **[プロパティ]** をクリックして、 [[データ コレクション セットのプロパティ]](#CollectionSet) ダイアログ ボックスを開きます。  
  
3.  **[全般]** ページで収集頻度を変更できます。 そのためには、次の手順に従います。  
  
    1.  詳細ペインで、 **[コレクション アイテム]** テーブルの **[収集頻度 (秒)]** 列に表示されている数値をダブルクリックします。  
  
    2.  より小さな数値を入力して収集頻度を増加させるか、またはより大きな数値を入力して収集頻度を減少させ、&lt;localizedText&gt;Enter&lt;/localizedText&gt; キーを押して新しい値を格納します。  
  
4.  コレクション セットの既存のアップロード スケジュールを変更するには、次の手順を実行します。  
  
    1.  **[アップロード]** ページをクリックします。  
  
    2.  詳細ペインで **[選択]** をクリックします。  
  
         **[ジョブのスケジュール選択]** ダイアログ ボックスが開きます。 利用可能なスケジュールがテーブルとして表示されます。  
  
    3.  変更するスケジュールを持つ行をクリックします。 たとえば、スケジュールを 5 分ごとの頻度に変更するには、スケジュール名が **[CollectorSchedule_Every_5min]** である行をクリックします。  
  
        > [!NOTE]  
        >  選択したスケジュールのプロパティを表示および編集するには、 **[プロパティ]** をクリックして、このスケジュールの **[ジョブ スケジュールのプロパティ]** ダイアログ ボックスを開きます。 このダイアログ ボックスを使用して、頻度などのスケジュール情報を変更できます。  
        >   
        >  既存のスケジュールを変更する代わりに、 **[アップロード]** ページの **[新規作成]** をクリックして新しいアップロード スケジュールを作成することもできます。 この操作を行うと、 **[新しいジョブ スケジュール]** ダイアログ ボックスが開きます。このページでは、カスタム スケジュールを作成できます。  
  
    4.  スケジュールの構成が完了したら、 **[OK]** をクリックします。  
  
         加えた変更が **[アップロード]** ページに表示されます。  
  
5.  **[OK]** をクリックして、収集頻度とアップロード スケジュールの変更を保存し、 **[データ コレクション セットのプロパティ]** ダイアログ ボックスを閉じます。  
  
### <a name="to-change-the-schedule-for-a-non-cached-mode-collection-set"></a>非キャッシュ モードのコレクション セットのスケジュールを変更するには  
  
1.  オブジェクト エクスプローラーで、 **[管理]** ノード、 **[データ コレクション]** 、 **[システム データ コレクション セット]** の順に展開します。  
  
2.  **[ディスク使用量]** などのキャッシュ モードを使用しないコレクション セットを右クリックし、 **[プロパティ]** をクリックして、 [[データ コレクション セットのプロパティ]](#CollectionSet) ダイアログ ボックスを開きます。  
  
     **[データ コレクション セットのプロパティ]** ダイアログ ボックスが開き、コレクション セットのプロパティがページ ビューで表示されます。  
  
3.  コレクション セットのスケジュールを変更するには、 **[選択]** をクリックします。  
  
     **[ジョブのスケジュール選択]** ダイアログ ボックスが開きます。 利用可能なスケジュールがテーブルとして表示されます。  
  
4.  変更するスケジュールを持つ行をクリックします。 たとえば、スケジュールを 5 分ごとの頻度に変更するには、スケジュール名が **[CollectorSchedule_Every_5min]** である行をクリックします。  
  
    > [!NOTE]  
    >  選択したスケジュールのプロパティを表示および編集するには、 **[プロパティ]** をクリックして、このスケジュールの **[ジョブ スケジュールのプロパティ]** ダイアログ ボックスを開きます。 このダイアログ ボックスを使用して、頻度などのスケジュール情報を変更できます。  
    >   
    >  既存のスケジュールを変更する代わりに、 **[全般]** ページの **[新規作成]** をクリックして新しい収集頻度とアップロード スケジュールを作成することもできます。 この操作を行うと、 **[新しいジョブ スケジュール]** ダイアログ ボックスが開きます。  
  
5.  スケジュールの構成が完了したら、 **[OK]** をクリックします。  
  
6.  **[OK]** をクリックして、変更を保存し、 **[データ コレクション セットのプロパティ]** ダイアログ ボックスを閉じます。  
  
####  <a name="data-collection-set-properties-dialog-box"></a><a name="CollectionSet"></a> [データ コレクション セットのプロパティ] ダイアログ ボックス  
 **[全般] ページ**  
  
 このページを使用すると、データの収集方法とアップロード方法を構成し、スケジュールを構成し、管理データ ウェアハウスでのデータ保持期間を構成できます。 このページでは、コレクター型や収集頻度などコレクション セットに関する情報や、コレクション セットに使用される入力パラメーターの情報も提供します。  
  
 **名前**  
 このページが参照するコレクション セットの名前を表示します。  
  
 **[データの収集およびアップロード]**  
 データを収集して管理データ ウェアハウスにアップロードする方法を指定します。 以下のいずれかのオプションを選択します。  
  
| オプション | 説明 |
| :----- | :---------- |
|**キャッシュしない - データを同じスケジュールで収集およびアップロードします。**|選択した場合、次のいずれかを指定します。<br /><br /> **[スケジュール]** : データはスケジュールに従って収集およびアップロードされます。 **[選択]** をクリックしてスケジュールを定義済み一覧から選択するか、 **[新規作成]** をクリックして新しいスケジュールを作成します。<br /><br /> **[要求時]** : データは要求時に収集およびアップロードされます。|  
|**キャッシュする - 一定の収集頻度でデータを収集およびキャッシュして、別途設定されたスケジュールでキャッシュされたデータをアップロードします。**|指定された収集頻度でデータを収集およびキャッシュします。 収集したデータを、別途設定されたスケジュールでアップロードします。|  
|||
  
 **[収集頻度 (秒)]**  
 コレクション セット内のコレクション アイテムを表示します。 コレクション アイテムごとに次の情報が提供されます。  
  
-   **名前**  
  
-   **[コレクターの種類]**  
  
-   **[収集頻度]** (秒)。 このフィールドは、 **[データの収集およびアップロード]** がキャッシュするように構成されている場合にのみ使用できます。 収集頻度を設定するには、このセルをダブルクリックします。  
  
 **入力パラメーター。**  
 コレクション セットに使用される入力パラメーターを表示します。  
  
 **[実行するアカウント名]**  
 コレクション セットの実行に使用するアカウントを指定します。 既定は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェント サービスのアカウントです。 プロキシ アカウントが定義されている場合、この一覧には、使用可能なプロキシ アカウントの名前が含まれます。  
  
 **[収集したデータを管理データ ウェアハウスに保持する期間を設定します。]**  
 収集したデータを保持する期間を指定します。 以下のいずれかのオプションを選択します。  
  
| オプション | 説明 |
| :----- | :---------- |
|**[データ保持日数]**|このオプションは既定で選択されます。既定の保持期間は 14 日間です。|  
|**[データを無期限に保持]**|データを保持する期間に制限はありません。|  
|||

 **[アップロード] ページ**  
  
 このページを使用すると、このコレクション セットによって収集されるデータのアップロード スケジュールを構成できます。  
  
> [!NOTE]  
>  このタブは、 **[キャッシュする]** オプションが **[データの収集およびアップロード]** に対して構成されている場合にのみ使用できます。  
  
 **サーバー**  
 管理データ ウェアハウスをホストするサーバーの名前を表示します。 詳細については、「[管理データ ウェアハウスの構成 &#40;SQL Server Management Studio&#41;](../../relational-databases/data-collection/configure-the-management-data-warehouse-sql-server-management-studio.md)」を参照してください。  
  
 **[管理データ ウェアハウス]**  
 管理データ ウェアハウスの名前を表示します。 詳細については、「[管理データ ウェアハウスの構成 &#40;SQL Server Management Studio&#41;](../../relational-databases/data-collection/configure-the-management-data-warehouse-sql-server-management-studio.md)」を参照してください。  
  
 **[最終アップロード]**  
 コレクション セットに対して実行された最終アップロードの日付と時刻に関する情報を表示します。  
  
 **[アップロード スケジュール]**  
 コレクション セットのアップロード スケジュールを指定します。 有効になっている場合は、 **[選択]** をクリックしてスケジュールを定義済み一覧から選択するか、 **[新規作成]** をクリックして新しいスケジュールを作成します。  
  
 **[説明] ページ'**  
  
 このページを使用すると、このプロパティ ページが参照するコレクション セットの説明を表示できます。  
  
## <a name="see-also"></a>参照  
 [データ コレクションの管理](../../relational-databases/data-collection/manage-data-collection.md)   
 [[データ コレクション]](../../relational-databases/data-collection/data-collection.md)  
  
  
