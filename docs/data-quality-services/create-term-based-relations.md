---
description: 用語ベースのリレーションの作成
title: 用語ベースのリレーションの作成
ms.date: 11/08/2011
ms.prod: sql
ms.prod_service: data-quality-services
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql13.dqs.dm.kbtermsbased.f1
ms.assetid: 66db9277-d892-4dae-8a82-060fd3ba6949
author: swinarko
ms.author: sawinark
ms.openlocfilehash: 0dfc837238d20e58b04b66ae4ea998e60ee80247
ms.sourcegitcommit: c7f40918dc3ecdb0ed2ef5c237a3996cb4cd268d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/05/2020
ms.locfileid: "91725396"
---
# <a name="create-term-based-relations"></a>用語ベースのリレーションの作成

[!INCLUDE [SQL Server - Windows only ASDBMI  ](../includes/applies-to-version/sqlserver.md)]

  このトピックでは、 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) でドメインの用語ベースのリレーションを作成する方法について説明します。 用語ベースのリレーション (TBR) を使用して、ドメインの値の一部になっている用語を修正できます。 用語ベースのリレーションでは、共通する部分のスペルを除いても同一である複数の値は同一のシノニムと見なすことができます。 たとえば、"Inc." という用語を “Incorporated” に変更する用語ベースのリレーションを設定できます。 "Inc." という用語は、ドメインで発生するたびに変更されます。 "Contoso, Inc." のインスタンスは "Contoso, Incorporated" に変更され、2 つの値はまったく同じシノニムと見なされます。  
  
 用語ベースのリレーションを使用するには、"Inc." と "Incorporated" や "Senior" と "Sr." など、[値] と [次に修正] のペアのリストを作成します。 用語ベースのリレーションを使用すると、個々のドメイン値をシノニムとして手動で設定しなくても、ドメイン全体で用語を変更できます。 以前にナレッジ検出で値が検出されていない場合でも値を修正することを指定できます。 用語ベースのリレーション変換により 2 つの値が同じになる場合、DQS ではそれらの用語間のシノニム リレーションシップ (ナレッジ検索)、それらの用語間の修正リレーションシップ (データ修正)、または完全一致 (照合) が作成されます。  
  
 用語ベースのリレーション変換と記号変換 (特殊文字をスペースまたは null で置き換える) はどちらも分析前の事前処理段階で実行されます。 複合ドメインの解析が要求された場合は、区切り記号の解析に記号が必要なため、2 つの変換の前にその解析が実行されます。 ドメイン ルールやドメイン値の変更などの他の操作は変換後に実行されます。 照合の場合、用語ベースのリレーションはクレンジングを実行するかどうかに関係なく照合アクティビティの前にソース データに適用されます。  
  
 **用語ベースのリレーションとドメイン管理**  
  
 ドメイン管理に用語ベースのリレーションを適用すると、DQS はナレッジ検出、クレンジング、または照合処理での変更を適用します。ただし、DQS は、用語ベースのリレーションに準拠するためにドメイン自体の値を変更することはありません。 つまり、 **[ドメイン管理]** ページの **[用語ベースのリレーション]** タブに用語ベースのリレーションを入力し、そのまま使用しても、同じページの **[ドメイン値]** タブには変更が適用されません。 これによって TBR を後から変更できます。  
  
 **用語ベースのリレーションとデータ クリーニング**  
  
 ドメインに用語ベースのリレーションを適用してから、データ クレンジング プロセスを実行すると、DQS はクレンジング中に変更を適用しますが、ナレッジ ベース内の用語には変更は適用されません。  
  
-   用語ベースのリレーションによって変更された値がドメイン内にあるがシノニムではない場合、その値は **[結果の管理と表示]** ページの **[修正済み]** タブの **[次に修正]** 列に、用語ベースのリレーションに設定された理由と共に表示されます。  
  
-   用語ベースのリレーションによって変更された値がドメイン内になく、DQS が一致する値を検出した場合、その値は修正され、信頼レベルに基づいて [修正済み] タブまたは [提案] タブに表示されます。 一致するものがない場合、値は TBR 修正と共に [新規] タブに表示されます。 TBR を修正しても、必ずしも値が正しいわけではないため、このように処理されます。  
  
-   用語ベースのリレーションによって変更された値がドメイン内にあるが、既存の修正によって [エラー] または [無効] の場合、その値は修正値と理由のドメイン値と共に [修正済み] タブに表示されます。  
  
-   用語ベースのリレーションによって変更された値がドメイン内にあるが、修正を伴わずに [エラー] または [無効] の場合、その値は理由のドメイン値と共に [無効] タブに表示されます。  
  
 **用語ベースのリレーションとナレッジの検出**  
  
 用語ベースのリレーションを適用してナレッジ検出プロセスを実行すると、TBR に準拠するすべての値はそのまま残り、正しい値として識別されます。 TBR によって変更されたすべての値は正しい値としてインポートされ、TBR に準拠した値のシノニムとして識別されます。  
  
 **ドメインの用語ベースのリレーションとクレンジングした値のドメインへのインポート**  
  
 クレンジング プロセス中に収集されるデータ品質ナレッジをドメインにインポートする場合、TBR によって変更された値が正しい値としてインポートされます。  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> はじめに  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> 前提条件  
 用語ベースのリレーションを作成するには、ドメイン管理アクティビティでドメインを開いておく必要があります。  
  
###  <a name="security"></a><a name="Security"></a> セキュリティ  
  
####  <a name="permissions"></a><a name="Permissions"></a> Permissions  
 用語ベースのリレーションを作成するには、DQS_MAIN データベースの dqs_kb_editor ロールまたは dqs_administrator ロールが必要です。  
  
##  <a name="create-term-based-relations"></a><a name="Create"></a> 用語ベースのリレーションを作成する  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)][Data Quality Client アプリケーションを実行](../data-quality-services/run-the-data-quality-client-application.md)します。  
  
2.  [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] のホーム画面で、ナレッジ ベースを開くか作成します。 アクティビティとして **[ドメイン管理]** を選択した後に、 **[開く]** または **[作成]** をクリックします。 詳細については、「 [ナレッジ ベースの作成](../data-quality-services/create-a-knowledge-base.md) 」または「 [ナレッジ ベースを開く](../data-quality-services/open-a-knowledge-base.md)」を参照してください。  
  
    > [!NOTE]  
    >  Data Quality Service クライアントのドメイン管理用のページには、それぞれ異なるドメイン管理操作に対応する 5 つのタブが含まれています。 ウィザード ベースのプロセスではないため、任意の管理操作を個別に実行することができます。  
  
3.  **[ドメイン管理]** ページの **[ドメイン リスト]** から、ドメイン ルールを作成するドメインを選択するか、新しいドメインを作成します。 新しいドメインを作成する必要がある場合は、「 [ドメインの作成](../data-quality-services/create-a-domain.md)」を参照してください。  
  
4.  **[用語ベースのリレーション]** タブをクリックします。  
  
5.  用語ベースのリレーションは次のとおりに作成します。  
  
    1.  **[新しいリレーションの追加]** をクリックし、リレーション テーブルに行を追加します。  
  
    2.  追加された行の **[値]** 列に、選択したドメインの値で出現するたびに変更する用語を入力します。  
  
        > [!NOTE]  
        >  用語がドメイン内の値全体として存在する場合、またはドメイン内の修正値として既に存在している場合は、エラーが表示されます。  
  
    3.  **[次に修正]** 列に、 **[値]** 列の用語の変更後の用語を入力します。  
  
    4.  別の用語ベースのリレーションを追加する場合は、 **[新しいリレーションの追加]** をもう一度クリックします。  
  
    5.  リレーション テーブルから 1 つ以上の選択した行を削除するには、 **[選択したリレーションの削除]** をクリックします。 Ctrl キーを押しながら選択解除する行をクリックすると、複数の行を選択できます。  
  
    6.  **[検索]** ボックスに 1 つ以上の数字を入力し、リレーション テーブルで値を検索します。 一致する文字列が強調表示されます。 上矢印と下矢印を使用して、テーブル内の文字列の異なるインスタンスに移動します。  
  
    7.  **スペル チェック**: **[値]** 列または **[次に修正]** 列の値に赤い波線の下線が付いている場合は、スペル チェックで値の修正が提案されています。 下線が付いている値を右クリックし、スペル チェックで提案された値の 1 つを選択します。 または、ショートカット メニューの **[追加]** をクリックすると、元の値を反映できます。 詳細については、「 [DQS のスペル チェックの使用](../data-quality-services/use-the-dqs-speller.md) 」および「 [ドメインのプロパティを設定する](../data-quality-services/set-domain-properties.md)」を参照してください。  
  
        > [!NOTE]  
        >  スペル チェックを使用するには、 **[ドメインのプロパティ]** ページで有効にする必要があります。 **[ドメインのプロパティ]** ページで無効になっている場合は、 **[用語ベースのリレーション]** ページで **[スペル チェックを有効/無効にします]** アイコンをクリックして有効にすることもできます。  
  
6.  **[変更を適用]** をクリックして、ドメインに用語ベースのリレーションを適用します。  
  
7.  **[完了]** をクリックし、「 [ドメイン管理アクティビティの終了](/previous-versions/sql/sql-server-2016/hh510411(v=sql.130))」の説明に従ってドメイン管理アクティビティを完了します。  
  
##  <a name="follow-up-after-creating-term-based-relations"></a><a name="FollowUp"></a> 補足情報: 用語ベースのリレーションを作成した後  
 用語ベースのリレーションを作成した後、ドメインで他のドメイン管理タスクを実行したり、ナレッジ検出を実行してナレッジをドメインに追加したり、照合ポリシーをドメインに追加したりすることができます。 詳しくは、「[ナレッジ検出の実行](../data-quality-services/perform-knowledge-discovery.md)」、「[ドメインの管理](../data-quality-services/managing-a-domain.md)」、または「[照合ポリシーの作成](../data-quality-services/create-a-matching-policy.md)」をご覧ください。  
  
