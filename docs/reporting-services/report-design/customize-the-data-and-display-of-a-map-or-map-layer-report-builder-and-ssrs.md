---
title: マップまたはマップ レイヤーのデータと表示のカスタマイズ (レポート ビルダー) | Microsoft Docs
description: レポート ビルダーで汎用、色、ラベル、解像度を変更し、データと表示のユーザー エクスペリエンスを改善します。
ms.date: 03/07/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.technology: report-design
ms.topic: conceptual
f1_keywords:
- "10521"
- sql13.rtp.rptdesigner.mapgroupproperties.filter.f1
- "10515"
- "10512"
- "10520"
- sql13.rtp.rptdesigner.shared.font.f1
- "10523"
- sql13.rtp.rptdesigner.mapgroupproperties.general.f1
- sql13.rtp.rptdesigner.shared.number.f1
- sql13.rtp.rptdesigner.shared.shadowdv.f1
- sql13.rtp.rptdesigner.mapgroupproperties.variables.f1
- "10507"
ms.assetid: fdd9b994-d138-4990-a291-279b0249eb72
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 5516a294c8cd3dfb331db7c447982099c513ad99
ms.sourcegitcommit: fe59f8dc27fd633f5dfce54519d6f5dcea577f56
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/09/2020
ms.locfileid: "91935001"
---
# <a name="customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs"></a>マップまたはマップ レイヤーのデータと表示のカスタマイズ (レポート ビルダーおよび SSRS)
  ウィザードを使用してマップまたはマップ レイヤーを [!INCLUDE[ssRSnoversion_md](../../includes/ssrsnoversion-md.md)] の改ページ調整されたレポートに追加した後、必要に応じてレポート内のマップの体裁を変更することができます。 改善のヒントを次に示します。  
  
-   マップ上のデータをユーザーにわかりやすく示すには、凡例やカラー スケールを追加し、ラベルやツールヒントを追加します。  
  
-   マップを読みやすくするには、中心およびズーム レベルを変更し、距離スケールを追加して、背景グリッドを表示します。  
  
-   レポートの実行時にマップの描画時間を制御するには、解像度を調整してマップ要素を単純化します。  
  
-   マップ要素をレポート定義に埋め込んで、個々の要素の表示方法を変更することができます。 たとえば、主要オフィスの所在地を画鋲付きで表示し、それ以外のオフィス所在地は円で表示します。  
  
-   独自のデータ グループ式を指定して、カスタマイズした地域を追加できます。  
  
-   ポイントが埋め込まれているマップ レイヤー上の特定のポイントを指定し、そこにカスタム ロケーションを追加します。 ポイント レイヤーでは、カスタム ポイントに対する値および表示プロパティを他のポイントとは別に設定することができます。  
  
-   より詳細な情報を提供するには、各レイヤーのマップ要素にリンクを追加し、ユーザーがそれをクリックすれば関連するレポートが開くようにします。  
  
 レポートの改善のヒントについては、「[レポートの計画 &#40;レポート ビルダー&#41;](../../reporting-services/report-design/planning-a-report-report-builder.md)」を参照してください。  
  
 表示オプションは、レポートを表示したときのマップまたはマップの構成部分の表示方法に影響します。 マップ上の領域の境界やフォントなど、マップの外観を制御するオプションもあれば、 その他のオプションは、バブル サイズ、マーカーの種類、ラベル、ツールヒントなどの各レイヤーのコンテンツを制御します。  
  
 マップ レポート アイテムは、マップ自体、マップ ビューポート、一連のタイトル、一連の凡例 (凡例、カラー スケール、および距離スケール)、一連のレイヤー、各レイヤーの一連のマップ要素 (多角形、線、点) などの部分で構成されます。 マップを構成する各部分に関して、具体的にどのプロパティ ダイアログ ボックスで表示オプションを制御すればよいかという点については、以降のセクションを参照してください。  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="change-options-for-the-map"></a><a name="Map"></a> マップのオプションを変更する  
 マップ レポート アイテムでは、次のような要素を制御できます。  
  
-   複数のタイトルを追加する。  
  
-   複数の凡例を追加する。 凡例の内容を変更するには、追加の凡例を作成した後、ルールを変更して、各ルールによって作成された凡例アイテムをどの凡例に表示するかを指定します。  
  
-   レイヤーを追加する。  
  
-   距離スケールまたはカラー スケールの表示/非表示を切り替える。  
  
-   影を指定して奥行を表す。  
  
 これらのオプションを変更するには、マップを右クリックして **[マップ]** をクリックし、オプションを変更します。  
  
##  <a name="change-options-for-the-viewport"></a><a name="Viewport"></a> ビューポートのオプションを変更する  
 レポートに表示されるマップの表示を変更するには、ビューポートのオプションを使用します。  
  
 空間データのソースによって提供される領域データが、レポートに表示する範囲を超えることもあります。 ビューポートを使用すると、中心やズーム レベルを設定したり、マップの領域を切り抜いたりすることができます。  
  
 ビューポートに対して設定できるオプションは次のとおりです。  
  
-   座標系を選択する。地理座標系の場合は投影法を選択できます。  
  
-   マップの中心を選択する。  
  
-   マップのビューを切り抜く。  
  
-   ズーム レベルを設定する。  
  
-   解像度と単純化。 線や多角形の描画にかかる時間を優先するか、アウトラインの詳細度を優先するかを検討します。  
  
 これらのオプションを変更するには、マップ ビューポートを右クリックして、 [[マップ ビューポートのプロパティ] ダイアログ ボックスの [全般]](./maps-report-builder-and-ssrs.md) ページおよび関連ページを使用してください。  
  
##  <a name="change-options-for-the-legends"></a><a name="Legends"></a> 凡例のオプションを変更する  
 凡例は、マップ上に表示されているデータをユーザーが解釈する際に役に立ちます。  
  
 既定では、レイヤーに指定したすべてのルールがアイテムを最初の凡例に追加します。 また、すべての色ルールは、カラー スケールに値を表示します。  
  
-   ビューポートを基準とする凡例の位置など、凡例の外観に関する表示オプションを変更するには、凡例そのもののオプションを設定します。  
  
-   凡例の内容やその形式を変更するには、レイヤーの対応するルールの凡例オプションを変更します。  
  
 詳細については、「 [マップの凡例、カラー スケール、および関連付けられているルールの変更 &#40;レポート ビルダーおよび SSRS&#41;](../../reporting-services/report-design/change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)」を参照してください。  
  
##  <a name="change-options-for-the-layer"></a><a name="Layer"></a> レイヤーのオプションを変更する  
 マップのレイヤーを表示するには、マップをクリックして選択します。 マップ ペインが表示されます。 レイヤーのオプションを変更するには、レイヤーを右クリックしてショートカット メニューを使用します。  
  
 レイヤーは、空間データ ソースから返される空間データに応じて、多角形レイヤー、線レイヤー、ポイント レイヤーの 3 種類に大別されます。  
  
 レイヤーに対して設定できるオプションは次のとおりです。  
  
-   関連付けられている分析データおよび対応フィールド。 マップ ペインには、空間データのソースがレイヤー名の下に一覧表示されます。 ソースが埋め込まれている場合、レイヤーのマップ要素はレポート定義の一部分として存在します。 ソースが埋め込まれていない場合、空間データは実行時に取得され、レポートの処理時にレポート プロセッサによってレイヤーのマップ要素が作成されます。 レイヤー上のデータに関するオプションを変更するには、[マップ レイヤー] ダイアログ ボックスの [分析データ] ページを使用します。  
  
-   レイヤーの描画順序。 マップ ペインに一覧表示されているレイヤーの順序は、レイヤーの描画順序とは逆になります。 一覧の最後のレイヤーが最初に描画されます。 たとえば、ポイント レイヤーのポイントを多角形レイヤーの多角形よりも前面に表示させる場合、ポイント レイヤーを先頭にし、多角形レイヤーを 2 番目にします。  
  
-   レイヤーの可視性 (透明度を含む)。 レイヤーを通して別のレイヤーが透けて見えるようにするには、透明度を 0 より大きい値にします。 100% の値はレイヤーが非表示であることを意味します。 個々のレイヤーに対して何らかの作業を行う場合、マップ ペインの **[表示]** アイコンをクリックすることにより、各レイヤーを簡単に表示または非表示にすることができます。 また、ズーム レベルのオプションを設定することにより、レイヤー上のマップ要素が表示または非表示になるタイミングを、ズーム レベルに基づいて指定することができます。  
  
-   現在のビューポートの中心およびズーム レベルに対し、Bing マップのタイル レイヤーを追加します。 タイル レイヤーの地理座標を指定する必要はありません。 座標系を [地理]、投影法を [Mercator] に指定した場合に、Bing Maps サーバーが利用可能であり、レポート サーバーがこの機能をサポートするように構成されていれば、タイルは自動的にビューポート領域に合わせて読み込まれます。 各レポートで、タイルを取得する際にセキュリティで保護された接続を使用するかどうかを指定できます。  
  
 レイヤーの詳細については、「[マップまたはマップ レイヤーの追加、変更、または削除 &#40;レポート ビルダーおよび SSRS&#41;](../../reporting-services/report-design/add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)」を参照してください。  
  
##  <a name="change-data-grouping-for-the-layer"></a><a name="DataGrouping"></a> レイヤーのデータ グループを変更する  
 独自の図形の空間データをどのように集計するかをカスタマイズできます。 レイヤーのグループ プロパティを設定するには、レイヤーのマップ ペインおよびプロパティ ペインでレイヤーを選択し、 **[グループ]** をクリックしてから参照ボタン [...] をクリックし、グループ プロパティを開きます。 このダイアログ ボックスでは、グループ式の指定、グループ変数の作成、およびグループ化に使用するデータのフィルター処理を行うことができます。  
  
 グループ式は、空間データとの間にリレーションシップを持つ分析データをレイヤー上の各マップ要素に対してどのように集計するかを指定します。 既定では、グループ式は、空間データと分析データの間のリレーションシップに対して指定された対応フィールドのセットです。 たとえば、国または地域の市区町村の場所と人口規模を表示するバブル マップの場合、同じ名前を持つ複数の市区町村が存在する可能性があるため、対応フィールドには、市区町村名を示す [City] と地域名を示す [Region] が含まれます。 対応するグループ式には、[City] と [Region] の 2 つのフィールドが含まれます。  
  
 詳細については、「[Map Tips:How To Import Shapefiles Into SQL Server and Aggregate Spatial Data (マップ ヒント: シェープファイルの SQL Server へのインポートと空間データの集計方法)](/archive/blogs/seanboon/sql-server-2008-r2-map-tips-how-to-import-shapefiles-into-sql-server-and-aggregate-spatial-data)」を参照してください。  
  
##  <a name="change-options-for-the-map-elements-on-the-layer"></a><a name="MapElements"></a> レイヤー上のマップ要素のオプションを変更する  
 マップ要素とは、空間データに基づく、レイヤー上のポイント、線、または多角形をいいます。 マップ要素に関して設定できるオプションは次のとおりです。 これらのオプションは、埋め込みのマップ要素であるかどうかに関係なく、レイヤー上のすべてのマップ要素に適用されます。  
  
-   ラベル、ラベルの可視性、ラベルのオフセット、および書式設定。  
  
-   境界および塗りつぶし。  
  
-   ドリルスルー アクション。  
  
-   表示オプション。  
  
 マップ要素の表示オプションは、レイヤー、マップ要素、マップ要素のルール、および、埋め込みマップ要素のオーバーライド オプションに基づく、一定の優先順位に従って適用されます。  
  
 これらのオプションを変更するには、マップ要素を右クリックし、埋め込みプロパティのダイアログ ボックスを使用します。 たとえば、埋め込み多角形には [マップの埋め込み多角形のプロパティ] ダイアログ ボックスの [全般] ページおよび関連するページを使用します。  
  
##  <a name="understanding-display-option-precedence"></a><a name="Precedence"></a> 表示オプションの優先順位について  
 マップ レイヤー上に表示されるポイント、線、または多角形の外観を制御するには、表示オプションをどこで設定すればよいかや、どのオプションが優先されるかをきちんと理解しておく必要があります。 以下に、表示オプションを優先順位の低いものから順に示します。 この一覧で優先順位の低い表示オプションは、優先順位の高い表示オプションによってオーバーライドされます。  
  
-   レイヤーのオプション。  
  
-   各レイヤー上のポイント、線、または多角形のオプション。 これは、レポートの処理時にマップ要素が動的に取得されるか、マップ要素がレポート定義に埋め込まれているかに関係なく適用されます。 たとえば、レイヤー上のすべての要素に対して塗りつぶしの色を指定することができます。  
  
-   ルール。 レイヤー上のすべてのマップ要素には、色、サイズ、幅、またはマーカーの種類を制御するルールを設定できます。 設定できるルールはマップ要素の種類によって異なります。  
  
    -   色ルール。 ポイント、線、多角形のマーカー、および多角形の中心点のマーカーに適用されます。  
  
    -   サイズ ルール。 ポイントのマーカーおよび多角形の中心点のマーカーに適用されます。  
  
    -   幅ルール。 線の幅に適用されます。  
  
    -   マーカーの種類ルール。 ポイントのマーカーおよび多角形の中心点のマーカーに適用されます。  
  
-   レイヤー上の埋め込みのポイント、線、または多角形に対して個別に適用されているオーバーライド オプション。 変更を加えた場合、その変更は永続的に保持されます。 これらの変更を元に戻すには、そのレイヤーのデータを再度読み込む必要があります。  
  
 詳細については、「 [ルールおよび分析データを使用した多角形、線、およびポイントの表示の変更 &#40;レポート ビルダーおよび SSRS&#41;](../../reporting-services/report-design/vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)」を参照してください。  
  
## <a name="see-also"></a>参照  
 [マップ ウィザードおよびマップ レイヤー ウィザードのページ &#40;レポート ビルダーおよび SSRS&#41;](../../reporting-services/report-design/map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)   
 [マップ (レポート ビルダーおよび SSRS)](../../reporting-services/report-design/maps-report-builder-and-ssrs.md)  
  
